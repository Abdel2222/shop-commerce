NETR_start=new Date().getTime();if(document.addEventListener){document.addEventListener("onNetrumLoaded",function(a){NETR.init()})}else{if(document.attachEvent){document.attachEvent("onpropertychange",function(a){if(!a){a=event}if(a.propertyName==="onNetrumLoaded"){NETR.init()}})}}function NETR_get_params(){var a=document.getElementsByTagName("script");for(var c=0;c<a.length;c++){if(a[c].src.indexOf("/netrum")>-1){var d=a[c].src.split("?").pop().split("&");var f={};for(var b=0;b<d.length;b++){var e=d[b].split("=");f[e[0]]=e[1]}return f}}return{}}function NETR_check_doc_domain(b){var c;if(!b){if(window.parent===window||!document.getElementById("netrum-if-as")){return}if(window.NETR&&NETR.netrum_frame&&NETR.window){try{if(NETR.netrum_frame.document.domain!==NETR.window.document.domain){NETR.netrum_frame.document.domain=NETR.window.document.domain}}catch(a){if(!NETR.isCrossOriginError(a)){NETR.addError(a,"NETR_check_doc_domain.domainFix")}}}b=document.domain}if(b.indexOf(".")===-1){return}try{c=window.parent.document;return}catch(a){document.domain=b}try{c=window.parent.document;return}catch(a){b=b.replace(/^[\w\-]+\./,"")}NETR_check_doc_domain(b)}NETR_check_doc_domain();(function(j){var g,b,f,a,e,k,c,h,l=j;if(j.parent!==j&&document.getElementById("netrum-if-as")&&document.getElementById("netrum-if-as").nodeName.toLowerCase()==="script"){j=j.parent;a=document.getElementById("netrum-if-as").src}f=j.document;if(!j.NETR){j.NETR={}}NETR=j.NETR;if(NETR.version){return}NETR.version="0.9";NETR.window=j;NETR.netrum_frame=l;if(!NETR.plugins){NETR.plugins={}}(function(){try{if(new j.CustomEvent("CustomEvent")!==undefined){e=function(m,n){return new j.CustomEvent(m,n)}}}catch(d){}try{if(!e&&f.createEvent&&f.createEvent("CustomEvent")){e=function(n,o){var m=f.createEvent("CustomEvent");o=o||{cancelable:false,bubbles:false};m.initCustomEvent(n,o.bubbles,o.cancelable,o.detail);return m}}}catch(d){}if(!e&&f.createEventObject){e=function(n,o){var m=f.createEventObject();m.type=m.propertyName=n;m.detail=o.detail;return m}}if(!e){e=function(){return undefined}}}());k=function(d,o,n){var q=e(d,{detail:o});if(!q){return}function m(){if(f.dispatchEvent){f.dispatchEvent(q)}else{if(f.fireEvent){f.fireEvent("onpropertychange",q)}}}if(n){NETR.setImmediate(m)}else{m()}};if(typeof document.hidden!=="undefined"){c="visibilityState";h="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){c="mozVisibilityState";h="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){c="msVisibilityState";h="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){c="webkitVisibilityState";h="webkitvisibilitychange"}}}}g={beacon_url:"",beacon_type:"POST",site_domain:j.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:true,strip_query_string:false,onloadfired:false,handlers_attached:false,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeNetrumBeacon",onbeacon:"onNetrumBeacon",onnetrumloaded:"onNetrumLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(d){return function(m){var n;if(!m){m=j.event}if(m.target){n=m.target}else{if(m.srcElement){n=m.srcElement}}if(n.nodeType===3){n=n.parentNode}if(n&&n.nodeName.toUpperCase()==="OBJECT"&&n.type==="application/x-shockwave-flash"){return}g.fireEvent(d,n)}},fireEvent:function(d,r){var n,o,m;d=d.toLowerCase();if(!this.events.hasOwnProperty(d)){return}if(this.public_events.hasOwnProperty(d)){k(this.public_events[d],r)}m=this.events[d];for(n=0;n<m.length;n++){try{o=m[n];o.fn.call(o.scope,r,o.cb_data)}catch(q){}}return}};b={t_lstart:null,t_start:NETR_start,t_end:null,t_onload:undefined,url:a,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2000},utils:{objectToString:function(r,q,m){var n=[],d;if(!r||typeof r!=="object"){return r}if(q===undefined){q="\n\t"}if(!m){m=0}if(Object.prototype.toString.call(r)==="[object Array]"){for(d=0;d<r.length;d++){if(m>0&&r[d]!==null&&typeof r[d]==="object"){n.push(this.objectToString(r[d],q+(q==="\n\t"?"\t":""),m-1))}else{if(q==="&"){n.push(encodeURIComponent(r[d]))}else{n.push(r[d])}}}q=","}else{for(d in r){if(Object.prototype.hasOwnProperty.call(r,d)){if(m>0&&r[d]!==null&&typeof r[d]==="object"){n.push(encodeURIComponent(d)+"="+this.objectToString(r[d],q+(q==="\n\t"?"\t":""),m-1))}else{if(q==="&"){n.push(encodeURIComponent(d)+"="+encodeURIComponent(r[d]))}else{n.push(d+"="+r[d])}}}}}return n.join(q)},inArray:function(n,m){var d;if(typeof n==="undefined"||typeof m==="undefined"||!m.length){return false}for(d=0;d<m.length;d++){if(m[d]===n){return true}}return false},isMutationObserverSupported:function(){var d=(j&&j.navigator&&j.navigator.userAgent&&j.navigator.userAgent.match(/Trident.*rv[ :]*11\./));return(!d&&j&&j.MutationObserver&&typeof j.MutationObserver==="function")},getQueryParamValue:function(r,m){var d,q,n,o;if(!r){return null}if(typeof m==="string"){d=NETR.window.document.createElement("a");d.href=m}else{if(typeof m==="object"&&typeof m.search==="string"){d=m}else{d=NETR.window.location}}q=d.search.slice(1).split(/&/);for(n=0;n<q.length;n++){if(q[n]){o=q[n].split("=");if(o.length&&o[0]===r){return o.length>1?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):""}}}return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var m=Math.random()*16|0;var d=n==="x"?m:(m&3|8);return d.toString(16)})},generateId:function(d){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,d||40).replace(/x/g,function(m){var m=(Math.random()||0.01).toString(36);if(m==="0"){return"0"}else{return m.substr(2,1)}})},serializeForUrl:function(d){if(NETR.utils.Compression&&NETR.utils.Compression.jsUrl){return NETR.utils.Compression.jsUrl(d)}if(window.JSON){return JSON.stringify(d)}return""},getMyURL:function(){var m;var o=(document.currentScript||document.getElementById("NETR-if-as")||document.getElementById("NETR-scr-as"));if(o){return o.src}var d=document.getElementsByTagName("script"),n;for(n=d.length;n--;){if(d[n].readyState==="interactive"){return d[n].src}}try{throw new Error()}catch(q){if("stack" in q){m=this.arrayFilter(q.stack.split(/\n/),function(r){return r.match(/https?:\/\//)});if(m&&m.length){return m[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}}}return""},scroll:function(){var m=j.pageXOffset!==undefined;var n=((j.document.compatMode||"")==="CSS1Compat");var d={x:0,y:0};if(m){if(typeof j.pageXOffset==="function"){d.x=j.pageXOffset();d.y=j.pageYOffset()}else{d.x=j.pageXOffset;d.y=j.pageYOffset}}else{if(n){d.x=j.document.documentElement.scrollLeft;d.y=j.document.documentElement.scrollTop}else{d.x=j.document.body.scrollLeft;d.y=j.document.body.scrollTop}}if(typeof d.sx==="number"){d.sx=Math.round(d.sx)}if(typeof d.sy==="number"){d.sy=Math.round(d.sy)}return d},windowHeight:function(){return j.innerHeight||j.document.documentElement.clientHeight||j.document.body.clientHeight},windowWidth:function(){return j.innerWidth||j.document.documentElement.clientWidth||j.document.body.clientWidth},isNative:function(d){return !!d&&d.toString&&!d.hasOwnProperty("toString")&&/\[native code\]/.test(String(d))},forEach:function(q,n,d){if(!NETR.utils.isArray(q)||typeof n!=="function"){return}var o=q.length;for(var m=0;m<o;m++){if(q.hasOwnProperty(m)){n.call(d,q[m],m,q)}}},randomString:function(n){var o="";var d="abcdefghijklmnopqrstuvwxyz0123456789";for(var m=0;m<n;m++){o+=d.charAt(Math.floor(Math.random()*d.length))}return o},getCookie:function(d){if(!d){return null}d=" "+d+"=";var m,n;n=" "+f.cookie+";";if((m=n.indexOf(d))>=0){m+=d.length;n=n.substring(m,n.indexOf(";",m)).replace(/^"/,"").replace(/"$/,"");return n}return null},setCookie:function(o,q,d){var r,n,m,t,s;if(!o||!g.site_domain){return false}r=this.objectToString(q,"&");n=o+'="'+r+'"';t=[n,"path=/","domain="+g.site_domain];if(d){s=new Date();s.setTime(s.getTime()+d*1000);s=s.toGMTString();t.push("expires="+s)}if(n.length<500){f.cookie=t.join("; ");m=this.getCookie(o);if(r===m){return true}}return false},getSubCookies:function(q){var o,n,d,s,m=false,r={};if(!q){return null}if(typeof q!=="string"){return null}o=q.split("&");for(n=0,d=o.length;n<d;n++){s=o[n].split("=");if(s[0]){s.push("");r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]);m=true}}return m?r:null},removeCookie:function(d){return this.setCookie(d,{},-86400)},cleanupURL:function(d){if(!d||Object.prototype.toString.call(d)==="[object Array]"){return""}if(g.strip_query_string){return d.replace(/\?.*/,"?qs-redacted")}return d},hashQueryString:function(m,d){if(!m){return m}if(!m.match){NETR.addError("TypeError: Not a string","hashQueryString",typeof m);return""}if(m.match(/^\/\//)){m=location.protocol+m}if(!m.match(/^(https?|file):/)){return""}if(d){m=m.replace(/#.*/,"")}if(!NETR.utils.MD5){return m}return m.replace(/\?([^#]*)/,function(o,n){return"?"+(n.length>10?NETR.utils.MD5(n):n)})},pluginConfig:function(s,d,q,n){var m,r=0;if(!d||!d[q]){return false}for(m=0;m<n.length;m++){if(d[q][n[m]]!==undefined){s[n[m]]=d[q][n[m]];r++}}return(r>0)},arrayFilter:function(r,m){var d=[];if(typeof r.filter==="function"){d=r.filter(m)}else{var n=-1,o=r.length,q;while(++n<o){q=r[n];if(m(q,n,r)){d[d.length]=q}}}return d},addObserver:function(q,m,r,u,n,t){var s={observer:null,timer:null};if(!window.MutationObserver||!u||!q){return null}function d(o){var v=false;if(s.timer){clearTimeout(s.timer);s.timer=null}if(u){v=u.call(t,o,n);if(!v){u=null}}if(!v&&s.observer){s.observer.disconnect();s.observer=null}if(typeof v==="number"&&v>0){s.timer=setTimeout(d,v)}}s.observer=new MutationObserver(d);if(r){s.timer=setTimeout(d,s.timeout)}s.observer.observe(q,m);return s},addListener:function(n,m,d){if(n.addEventListener){n.addEventListener(m,d,false)}else{if(n.attachEvent){n.attachEvent("on"+m,d)}}},removeListener:function(n,m,d){if(n.removeEventListener){n.removeEventListener(m,d,false)}else{if(n.detachEvent){n.detachEvent("on"+m,d)}}},pushVars:function(q,s,r){var n,o,d=0,m;for(n in s){if(s.hasOwnProperty(n)){if(Object.prototype.toString.call(s[n])==="[object Array]"){for(o=0;o<s[n].length;++o){d+=NETR.utils.pushVars(q,s[n][o],n+"["+o+"]")}}else{m=document.createElement("input");m.type="hidden";m.name=(r?(r+"["+n+"]"):n);m.value=(s[n]===undefined||s[n]===null?"":s[n]);q.appendChild(m);d+=encodeURIComponent(m.name).length+encodeURIComponent(m.value).length+2}}}return d},sendData:function(n,r){var m=document.createElement("input"),q=[g.beacon_url];n.method="post";n.id="beacon_form";n.enctype="application/x-www-form-urlencoded";if(g.secondary_beacons&&g.secondary_beacons.length){q.push.apply(q,g.secondary_beacons)}function d(t){var s=document.getElementById(t);if(s){s.parentNode.removeChild(s)}}function o(){var u,t="netrum_post-"+encodeURIComponent(n.action)+"-"+Math.random();try{u=document.createElement('<iframe name="'+t+'">')}catch(v){u=document.createElement("iframe")}n.action=q.shift();u.name=u.id=t;u.style.display=n.style.display="none";u.src="javascript:false";d(u.id);d(n.id);document.body.appendChild(u);var s=(u.contentWindow||u.contentDocument);if(s.document){s=s.document}if(s.body){s.body.appendChild(n)}else{s.appendChild(n)}try{n.submit()}catch(v){}if(q.length){NETR.setImmediate(o)}setTimeout(function(){d(u.id)},10000)}o()}},init:function(m){var o,d,n=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];NETR_check_doc_domain();if(!m){m={beacon_url:"//rum.netvigie.com/netvigie.rum",beacon_type:"POST"}}if(m.primary&&g.handlers_attached){return this}if(m.site_domain!==undefined){this.session.domain=m.site_domain}if(m.log!==undefined){this.log=m.log}if(!this.log){this.log=function(){}}for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(m[d]&&m[d].hasOwnProperty("enabled")&&m[d].enabled===false){g.disabled_plugins[d]=1;if(typeof this.plugins[d].disable==="function"){this.plugins[d].disable()}continue}if(g.disabled_plugins[d]){if(!m[d]||!m[d].hasOwnProperty("enabled")||m[d].enabled!==true){continue}if(typeof this.plugins[d].enable==="function"){this.plugins[d].enable()}delete g.disabled_plugins[d]}if(typeof this.plugins[d].init==="function"){try{this.plugins[d].init(m)}catch(q){NETR.addError(q,d+".init")}}}}for(o=0;o<n.length;o++){if(m[n[o]]!==undefined){g[n[o]]=m[n[o]]}}if(g.handlers_attached){return this}if(!g.onloadfired&&(m.autorun===undefined||m.autorun!==false)){if(f.readyState&&f.readyState==="complete"){NETR.loadedLate=true;this.setImmediate(NETR.page_ready_autorun,null,null,NETR)}else{if(j.onpagehide||j.onpagehide===null){NETR.utils.addListener(j,"pageshow",NETR.page_ready_autorun)}else{NETR.utils.addListener(j,"load",NETR.page_ready_autorun)}}}NETR.utils.addListener(j,"DOMContentLoaded",function(){g.fireEvent("dom_loaded")});(function(){var r,s;if(h!==undefined){NETR.utils.addListener(f,h,function(){g.fireEvent("visibility_changed")});NETR.subscribe("visibility_changed",function(){NETR.lastVisibilityEvent[NETR.visibilityState()]=NETR.now()})}NETR.utils.addListener(f,"mouseup",g.xb_handler("click"));r=f.getElementsByTagName("form");for(s=0;s<r.length;s++){NETR.utils.addListener(r[s],"submit",g.xb_handler("form_submit"))}if(!j.onpagehide&&j.onpagehide!==null){NETR.utils.addListener(j,"unload",function(){NETR.window=j=null})}}());g.handlers_attached=true;p=NETR_get_params();NETR.addVar("client_id",p.c);NETR.addVar("required_p",p.r);NETR.addVar("custom_params_config",p.cp);return this},attach_page_ready:function(d){if(NETR.hasBrowserOnloadFired()){this.setImmediate(d,null,null,NETR)}else{if(j.onpagehide||j.onpagehide===null){NETR.utils.addListener(j,"pageshow",d)}else{NETR.utils.addListener(j,"load",d)}}},page_ready_autorun:function(d){if(g.autorun){NETR.page_ready(d)}},page_ready:function(d){if(!d){d=j.event}if(!d){d={name:"load"}}if(g.onloadfired){return this}g.fireEvent("page_ready",d);g.onloadfired=true;return this},hasBrowserOnloadFired:function(){var d=NETR.getPerformance();return((f.readyState&&f.readyState==="complete")||(d&&d.timing&&d.timing.loadEventStart>0)||j.NETR_onload>0)},setImmediate:function(o,q,n,r){var d,m;if(typeof Error!=="undefined"){m=new Error();m=m.stack?m.stack.replace(/^Error/,"Called"):undefined}d=function(){o.call(r||null,q,n||{},m);d=null};if(j.setImmediate){j.setImmediate(d)}else{if(j.msSetImmediate){j.msSetImmediate(d)}else{if(j.webkitSetImmediate){j.webkitSetImmediate(d)}else{if(j.mozSetImmediate){j.mozSetImmediate(d)}else{setTimeout(d,10)}}}}},now:(function(){try{if("performance" in window&&window.performance&&window.performance.now){return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}}catch(d){}return Date.now||function(){return new Date().getTime()}}()),getPerformance:function(){try{if(NETR.window){if("performance" in NETR.window&&NETR.window.performance){return NETR.window.performance}return NETR.window.msPerformance||NETR.window.webkitPerformance||NETR.window.mozPerformance}}catch(d){}},hrNow:function(){var m,d,n=NETR.getPerformance();if(n&&n.now){m=n.now()}else{d=(NETR.plugins.RT&&NETR.plugins.RT.navigationStart&&NETR.plugins.RT.navigationStart())||NETR.t_lstart||NETR.t_start;m=NETR.now()-d}return m},visibilityState:(c===undefined?function(){return"visible"}:function(){return f[c]}),lastVisibilityEvent:{},subscribe:function(d,q,m,s){var n,o,r;d=d.toLowerCase();if(!g.events.hasOwnProperty(d)){return this}r=g.events[d];for(n=0;n<r.length;n++){o=r[n];if(o&&o.fn===q&&o.cb_data===m&&o.scope===s){return this}}r.push({fn:q,cb_data:m||{},scope:s||null});if(d==="page_ready"&&g.onloadfired){this.setImmediate(q,null,m,s)}if(d==="page_unload"){if(!("onbeforeunload" in window)&&!("onpagehide" in window)&&!("onunload" in window)){NETR.utils.addListener(j,"load",function(t){if(q){q.call(s,t||j.event,m)}q=s=m=null})}if("onunload" in window){NETR.utils.addListener(j,"unload",function(t){if(q){q.call(s,t||j.event,m)}q=s=m=null})}if("onbeforeunload" in window){NETR.utils.addListener(j,"beforeunload",function(t){if(q){q.call(s,t||j.event,m)}q=s=m=null})}if("onpagehide" in window){NETR.utils.addListener(j,"pagehide",function(t){if(q){q.call(s,t||j.event,m)}q=s=m=null})}}return this},fireEvent:function(d,m){return g.fireEvent(d,m)},registerEvent:function(d){if(g.events.hasOwnProperty(d)){return this}g.events[d]=[];return this},addError:function(m,o,d){var n;if(typeof m!=="string"){n=String(m);if(n.match(/^\[object/)){n=m.name+": "+(m.description||m.message).replace(/\r\n$/,"")}m=n}if(o!==undefined){m="["+o+":"+NETR.now()+"] "+m}if(d){m+=":: "+d}if(g.errors[m]){g.errors[m]++}else{g.errors[m]=1}},isCrossOriginError:function(d){return d.name==="SecurityError"||(d.name==="TypeError"&&d.message==="Permission denied")||(d.name==="Error"&&d.message&&d.message.match(/^(Permission|Access is) denied/))},addVar:function(m,n){if(typeof m==="string"){g.vars[m]=n}else{if(typeof m==="object"){var q=m,d;for(d in q){if(q.hasOwnProperty(d)){g.vars[d]=q[d]}}}}return this},removeVar:function(m){var d,n;if(!arguments.length){return this}if(arguments.length===1&&Object.prototype.toString.apply(m)==="[object Array]"){n=m}else{n=arguments}for(d=0;d<n.length;d++){if(g.vars.hasOwnProperty(n[d])){delete g.vars[n[d]]}}return this},getVar:function(d){return g.vars[d]},getVars:function(){g.beacon_url=false;g.fireEvent("before_beacon");return g.vars},hasVar:function(d){return g.vars.hasOwnProperty(d)},requestStart:function(m){var d=NETR.now();NETR.plugins.RT.startTimer("xhr_"+m,d);return{loaded:function(n){NETR.responseEnd(m,d,n)}}},responseEnd:function(m,d,n){if(typeof m==="object"&&m.url){g.fireEvent("xhr_load",m)}else{NETR.plugins.RT.startTimer("xhr_"+m,d);g.fireEvent("xhr_load",{name:"xhr_"+m,data:n})}},readyToSend:function(){var d;for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(g.disabled_plugins[d]){continue}if(typeof this.plugins[d].readyToSend==="function"&&this.plugins[d].readyToSend()===false){return false}}}return true},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(d){if(d){g.beacon_url=d}return true},hasSentPageLoadBeacon:function(){return g.hasSentPageLoadBeacon},sendBeaconData:function(r){var n=[],m=[],q,t,d,s,x=true,w,v;g.beacon_url=g.beacon_url_override||g.beacon_url;if(!g.beacon_url){return false}if(!g.beaconUrlAllowed(g.beacon_url)){return false}if(r.length===0){return false}g.fireEvent("beacon",r);n=this.getVarsOfPriority(r,-1);m=this.getVarsOfPriority(r,1);q=n.concat(this.getVarsOfPriority(r,0),m);t=q.join("&");if(g.beacon_url_force_https&&g.beacon_url.match(/^\/\//)){g.beacon_url="https:"+g.beacon_url}d=g.beacon_url+((g.beacon_url.indexOf("?")>-1)?"&":"?")+t;if(g.beacon_type==="GET"){x=true;if(d.length>NETR.constants.MAX_GET_LENGTH){((window.console&&(console.warn||console.log))||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}}else{if(g.beacon_type==="POST"||d.length>NETR.constants.MAX_GET_LENGTH){x=false}}if(j&&j.navigator&&typeof j.navigator.sendBeacon==="function"&&NETR.utils.isNative(j.navigator.sendBeacon)&&typeof j.Blob==="function"&&g.beacon_type!=="GET"&&typeof g.beacon_auth_token==="undefined"&&!g.beacon_disable_sendbeacon){var o=new j.Blob([t+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(j.navigator.sendBeacon(g.beacon_url,o)){return true}}if(!NETR.orig_XMLHttpRequest&&(!j||!j.XMLHttpRequest)){x=true}if(x){try{s=new Image()}catch(u){return false}s.src=d}else{w=new (NETR.window.orig_XMLHttpRequest||NETR.orig_XMLHttpRequest||NETR.window.XMLHttpRequest)();try{this.sendXhrPostBeacon(w,t)}catch(u){w=new NETR.boomerang_frame.XMLHttpRequest();this.sendXhrPostBeacon(w,t)}}return true},hasSentPageLoadBeacon:function(){return g.hasSentPageLoadBeacon},sendXhrPostBeacon:function(m,d){m.open("POST",g.beacon_url);m.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(typeof g.beacon_auth_token!=="undefined"){if(typeof g.beacon_auth_key==="undefined"){g.beacon_auth_key="Authorization"}m.setRequestHeader(g.beacon_auth_key,g.beacon_auth_token)}if(g.beacon_with_credentials){m.withCredentials=true}m.send(d)},getVarsOfPriority:function(o,n){var m,d=[],q=(n!==0?g.varPriority[n]:o);for(m in q){if(q.hasOwnProperty(m)&&o.hasOwnProperty(m)){d.push(this.getUriEncodedVar(m,typeof o[m]==="undefined"?"":o[m]));if(n!==0){delete o[m]}}}return d},getUriEncodedVar:function(m,n){if(n===undefined||n===null){n=""}if(typeof n==="object"){n=NETR.utils.serializeForUrl(n)}var d=encodeURIComponent(m)+"="+encodeURIComponent(n);return d},getResourceTiming:function(m,n,o){var d,r=NETR.getPerformance();try{if(r&&typeof r.getEntriesByName==="function"){d=r.getEntriesByName(m);if(!d||!d.length){return}if(typeof o==="function"){d=NETR.utils.arrayFilter(d,o);if(!d||!d.length){return}}if(d.length>1&&typeof n==="function"){d.sort(n)}return d[d.length-1]}}catch(q){}},setBeaconUrlsAllowed:function(d){g.beacon_urls_allowed=d},real_sendBeacon:function(){var y,m,u,D,n=0,t=[],q,r=0;g.beaconQueued=false;var C=0;var A=NETR.utils.randomString(26);var s=NETR.utils.getCookie("__netid");if(s==null){NETR.utils.setCookie("__netid",A,1800)}else{NETR.utils.setCookie("__netid",s,1800);A=s}g.vars.id_session=A;if(typeof g.vars.required_p!="undefined"){if((g.vars.required_p=="dr9+s643jzHZrNDc3j087Q==")||(g.vars.required_p=="dr9s")){C=0}if((g.vars.required_p=="OnTI1gVmfKKFWML9EUdX9A==")||(g.vars.required_p=="OnTI")){C=20}if((g.vars.required_p=="tv/f+zYMaYahyHGSZBQ6bQ==")||(g.vars.required_p=="tvfz")){C=25}if((g.vars.required_p=="aLl54iDbWhb/7xYyZFlFxw==")||(g.vars.required_p=="aLl5")){C=50}if((g.vars.required_p=="cGS1xzPRQLaPTj5OcZsPWg==")||(g.vars.required_p=="cGS1")){C=75}if((g.vars.required_p=="s8akBkNAk5FQB3CKM2fzFQ==")||(g.vars.required_p=="s8ak")){C=100}}var B=NETR.utils.getCookie("__netsp");if(B==null){var d=Math.floor(Math.random()*100)+1;if(d<C){NETR.utils.setCookie("__netsp","true",1800);g.vars.__netsp="true"}else{NETR.utils.setCookie("__netsp","false",1800);g.vars.__netsp="false"}}else{if(B=="false"){g.vars.__netsp="false";NETR.utils.setCookie("__netsp","false",1800)}else{g.vars.__netsp="true";NETR.utils.setCookie("__netsp","true",1800)}}for(y in this.plugins){if(this.plugins.hasOwnProperty(y)){if(g.disabled_plugins[y]){continue}if(!this.plugins[y].is_complete()){return false}}}var x=g.vars["http.initiator"]==="spa";var w=x?f.URL:f.URL.replace(/#.*/,"");if(typeof g.vars.client_id!="undefined"&&g.vars.client_id==5303){w=f.URL}g.vars.pgu=NETR.utils.cleanupURL(w);if(!g.vars.u||x){g.vars.u=g.vars.pgu}if(g.vars.pgu===g.vars.u){delete g.vars.pgu}g.vars.v=NETR.version;if(NETR.visibilityState()){g.vars["vis.st"]=NETR.visibilityState();if(NETR.lastVisibilityEvent.visible){g.vars["vis.lv"]=NETR.now()-NETR.lastVisibilityEvent.visible}if(NETR.lastVisibilityEvent.hidden){g.vars["vis.lh"]=NETR.now()-NETR.lastVisibilityEvent.hidden}}g.vars["ua.plt"]=navigator.platform;g.vars["ua.vnd"]=navigator.vendor;if(j!==window){g.vars["if"]=""}for(y in g.errors){if(g.errors.hasOwnProperty(y)){t.push(y+(g.errors[y]>1?" (*"+g.errors[y]+")":""))}}if(t.length>0){g.vars.errors=t.join("\n")}g.fireEvent("before_beacon",g.vars);var v=btoa(JSON.stringify(g.vars));if(!g.beacon_url){return true}m=document.createElement("form");try{if(!navigator.sendBeacon){var o=new XMLHttpRequest();o.open("POST",g.beacon_url,true);o.setRequestHeader("Content-Type","text/plain");o.send(v)}else{navigator.sendBeacon(g.beacon_url,v)}}catch(z){}g.fireEvent("onbeacon",g.vars);return true}};delete NETR_start;if(typeof NETR_lstart==="number"){b.t_lstart=NETR_lstart;delete NETR_lstart}else{if(typeof NETR.window.NETR_lstart==="number"){b.t_lstart=NETR.window.NETR_lstart}}if(typeof NETR.window.NETR_onload==="number"){b.t_onload=NETR.window.NETR_onload}(function(){var d;if(typeof console==="object"&&console.log!==undefined){b.log=function(n,o,q){console.log(q+": ["+o+"] "+n)}}d=function(m){return function(n,o){this.log(n,m,"netrum"+(o?"."+o:""));return this}};b.debug=d("debug");b.info=d("info");b.warn=d("warn");b.error=d("error")}());
(function(){var d;for(d in b){if(b.hasOwnProperty(d)){NETR[d]=b[d]}}if(!NETR.xhr_excludes){NETR.xhr_excludes={}}}());k("onNetrumLoaded",{NETR:NETR},true)}(window));
(function(){var L;NETR=NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.ResourceTiming){return}var v={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a"};var u={prefetch:1,preload:2,prerender:3,stylesheet:4};var g=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"];var x=[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi];var B="\n";var w=500;var N="*";var c="0";var z="1";var r="2";var m=1;var h=2;var Q=4;var t="3";var T="4";var I="5";var D=[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi];var P="\n";function S(ac){var ad={},Y,X,ab,af,ae,Z,ag,aa;for(Y in ac){X=Y;for(ab=0;ab<L.xssBreakWords.length;ab++){X=X.replace(L.xssBreakWords[ab],"$1"+P+"$2")}if(!ac.hasOwnProperty(Y)){continue}af=ac[Y];ae=X.split("");ag=ad;for(ab=0;ab<ae.length;ab++){Z=ae[ab];aa=ag[Z];if(typeof aa==="undefined"){ag=ag[Z]=(ab===(ae.length-1)?af:{})}else{if(typeof aa==="string"){ag=ag[Z]={"|":aa}}else{if(ab===(ae.length-1)){ag[Z]["|"]=af}else{ag=ag[Z]}}}}}return ad}function E(ae,ad){var Z=0,ac,Y,X;var ab=[];for(ac in ae){if(ae.hasOwnProperty(ac)){ab.push(ac)}}for(var aa=0;aa<ab.length;aa++){ac=ab[aa];if(typeof ae[ac]==="object"){Y=E(ae[ac],false);if(Y){delete ae[ac];if(ac===P){ac=Y.name;Z++}else{ac=ac+Y.name}ae[ac]=Y.value}}Z++}if(Z===1){if(ad){X={};X[ac]=ae[ac];return X}else{return{name:ac,value:ae[ac]}}}else{if(ad){return ae}else{return false}}}function s(Z,Y){if(typeof Z!=="number"){Z=0}if(typeof Y!=="number"){Y=0}var aa=Math.round(Z?Z:0),X=Math.round(Y?Y:0);return aa===0?0:(aa-X)}function q(Z){var X=0;try{if(("performance" in Z)&&Z.performance&&Z.performance.timing&&Z.performance.timing.navigationStart){X=Z.performance.timing.navigationStart}}catch(Y){}return X}function y(Y,ah,Z,aa){var ad=[],ab,X,ak,aj,ai,ae,al;if(typeof ah==="undefined"){ah=true}if(typeof Z==="undefined"){Z=0}if(typeof aa==="undefined"){aa=0}if(aa>10){return ad}ak=q(Y);if(Y.frames){for(ab=0;ab<Y.frames.length;ab++){aj=q(Y.frames[ab]);ai=0;if(aj>ak){ai=Z+(aj-ak)}ad=ad.concat(y(Y.frames[ab],false,ai,aa+1))}}try{if(!("performance" in Y)||!Y.performance||typeof Y.performance.getEntriesByType!=="function"){return ad}if(ah){X=Y.performance.getEntriesByType("navigation");if(X&&X.length===1){ae=X[0];ad.push({name:Y.location.href,startTime:0,redirectStart:ae.redirectStart,redirectEnd:ae.redirectEnd,fetchStart:ae.fetchStart,domainLookupStart:ae.domainLookupStart,domainLookupEnd:ae.domainLookupEnd,connectStart:ae.connectStart,secureConnectionStart:ae.secureConnectionStart,connectEnd:ae.connectEnd,requestStart:ae.requestStart,responseStart:ae.responseStart,responseEnd:ae.responseEnd,decodedBodySize:ae.decodedBodySize,encodedBodySize:ae.encodedBodySize,position:0,transferSize:ae.transferSize})}else{if(Y.performance.timing){al=Y.performance.timing;ad.push({name:Y.location.href,startTime:0,redirectStart:al.redirectStart?(al.redirectStart-al.navigationStart):0,redirectEnd:al.redirectEnd?(al.redirectEnd-al.navigationStart):0,fetchStart:al.fetchStart?(al.fetchStart-al.navigationStart):0,domainLookupStart:al.domainLookupStart?(al.domainLookupStart-al.navigationStart):0,domainLookupEnd:al.domainLookupEnd?(al.domainLookupEnd-al.navigationStart):0,connectStart:al.connectStart?(al.connectStart-al.navigationStart):0,secureConnectionStart:al.secureConnectionStart?(al.secureConnectionStart-al.navigationStart):0,connectEnd:al.connectEnd?(al.connectEnd-al.navigationStart):0,requestStart:al.requestStart?(al.requestStart-al.navigationStart):0,responseStart:al.responseStart?(al.responseStart-al.navigationStart):0,responseEnd:al.responseEnd?(al.responseEnd-al.navigationStart):0,decodedBodySize:al.decodedBodySize,encodedBodySize:al.encodedBodySize,position:0,transferSize:al.transferSize})}}}var ac=Y.performance.getEntriesByType("resource"),ag=[];for(ab=0;ac&&ab<ac.length;ab++){al=ac[ab];ag.push({name:al.name,initiatorType:al.initiatorType,startTime:al.startTime+Z,redirectStart:al.redirectStart?(al.redirectStart+Z):0,redirectEnd:al.redirectEnd?(al.redirectEnd+Z):0,fetchStart:al.fetchStart?(al.fetchStart+Z):0,domainLookupStart:al.domainLookupStart?(al.domainLookupStart+Z):0,domainLookupEnd:al.domainLookupEnd?(al.domainLookupEnd+Z):0,connectStart:al.connectStart?(al.connectStart+Z):0,secureConnectionStart:al.secureConnectionStart?(al.secureConnectionStart+Z):0,connectEnd:al.connectEnd?(al.connectEnd+Z):0,requestStart:al.requestStart?(al.requestStart+Z):0,responseStart:al.responseStart?(al.responseStart+Z):0,responseEnd:al.responseEnd?(al.responseEnd+Z):0,decodedBodySize:al.decodedBodySize,encodedBodySize:al.encodedBodySize,position:ab+1,transferSize:al.transferSize})}ad=ad.concat(ag)}catch(af){return ad}return ad}function K(X,Z,Y){Array.prototype.forEach.call(X.ownerDocument.getElementsByTagName(Y),function(aa){X.href=aa.currentSrc||aa.src||(typeof aa.getAttribute==="function"&&aa.getAttribute("xlink:href"))||aa.href;if(X.href.match(/^https?:\/\//)){Z[X.href]=aa}})}function f(X){return(typeof X==="number"&&X!==0)?X.toString(36):""}function l(ad,ac){var aa=["img","iframe","image"],Y={},X,ae,ab=ad.document,Z=ab.createElement("A");ac=ac||[0,0,0,0];X=ac[3]+(ad.pageXOffset!==undefined)?ad.pageXOffset:(ab.documentElement||ab.body.parentNode||ab.body).scrollLeft;ae=ac[2]+(ad.pageYOffset!==undefined)?ad.pageYOffset:(ab.documentElement||ab.body.parentNode||ab.body).scrollTop;aa.forEach(function(al){var ag=ab.getElementsByTagName(al),ah,ai,am,af;for(ai=0;ai<ag.length;ai++){ah=ag[ai];if(!ah){continue}af=ah.currentSrc||ah.src||(typeof ah.getAttribute==="function"&&(ah.getAttribute("src"))||ah.getAttribute("xlink:href"));Z.href=af;af=Z.href;if(!af||Y[af]){continue}am=ah.getBoundingClientRect();if((am.height||ah.offsetHeight)&&(am.width||ah.offsetWidth)){Y[af]=[am.height||ah.offsetHeight,am.width||ah.offsetWidth,Math.round(am.top+ae),Math.round(am.left+X)];if(!ah.naturalHeight&&!ah.naturalWidth){continue}var ak,aj,an;if(ah.currentSrc&&(ah.srcset||(ah.parentNode&&ah.parentNode.nodeName&&ah.parentNode.nodeName.toUpperCase()==="PICTURE"))){ak=ah.isConnected?ah.ownerDocument.createElement("IMG"):new NETR.window.Image();ak.src=af}else{ak=ah}aj=ak.naturalHeight||ah.naturalHeight;an=ak.naturalWidth||ah.naturalWidth;if((aj||an)&&(Y[af][0]!==aj||Y[af][1]!==an)){Y[af].push(aj,an)}}}});return Y}function n(ae){var ac=y(NETR.window,true,0,0),aa,ad,ab={},Y,X,Z,af=q(NETR.window);if(!ac||!ac.length){return{}}for(aa=0;aa<ac.length;aa++){ad=ac[aa];if(ad.name.indexOf("about:")===0||ad.name.indexOf("javascript:")===0){continue}if(ad.name.indexOf(NETR.url)>-1||ad.name.indexOf(NETR.config_url)>-1){continue}if(ae&&(af+ad.startTime)<ae){continue}Y=v[ad.initiatorType];if(typeof Y==="undefined"){Y=0}Z=Y+[s(ad.startTime,0),s(ad.responseEnd,ad.startTime),s(ad.responseStart,ad.startTime),s(ad.requestStart,ad.startTime),s(ad.connectEnd,ad.startTime),s(ad.secureConnectionStart,ad.startTime),s(ad.connectStart,ad.startTime),s(ad.domainLookupEnd,ad.startTime),s(ad.domainLookupStart,ad.startTime),s(ad.redirectEnd,ad.startTime),s(ad.redirectStart,ad.startTime),ad.decodedBodySize,ad.encodedBodySize,ad.position,ad.transferSize].map(f).join(",").replace(/,+$/,"");X=NETR.utils.cleanupURL(ad.name);if(ab[X]!==undefined){ab[X]+="|"+Z}else{ab[X]=Z}}return E(S(ab),true)}function M(ad,ae,ab){var Z=y(NETR.window,true,0,0),Y,aa,ag=q(NETR.window),ac={};if(!Z||!Z.length){return{entries:[]}}Z.sort(function(ai,ah){return ai.startTime-ah.startTime});var af=[];for(Y=0;Y<Z.length;Y++){aa=Z[Y];if(aa.name.indexOf("about:")===0||aa.name.indexOf("javascript:")===0||aa.name.indexOf("res:")===0){continue}if(aa.name.indexOf(NETR.url)>-1||aa.name.indexOf(NETR.config_url)>-1||(typeof NETR.getBeaconURL==="function"&&NETR.getBeaconURL()&&aa.name.indexOf(NETR.getBeaconURL())>-1)){continue}if(ad&&(ag+aa.startTime)<ad){continue}if(ae&&(ag+aa.startTime)>ae){break}if(typeof ab!=="undefined"&&ab!=="*"&&ab.length){if(!aa.initiatorType||!NETR.utils.inArray(aa.initiatorType,ab)){continue}}G(ac,aa.serverTiming);af.push(aa)}var X=a(ac);return{entries:af,serverTiming:{lookup:X,indexed:F(X)}}}function j(ab){var aa,Y,X,Z;if(ab.encodedBodySize||ab.decodedBodySize||ab.transferSize){aa=ab.transferSize;Y=ab.encodedBodySize;X=ab.decodedBodySize;Z=[Y,aa?aa-Y:"_",X?X-Y:0];return Z.map(f).join(",").replace(/,+$/,"")}else{return""}}function W(Z,aa){var Y,X;if(typeof aa==="undefined"){aa={}}Y=Z.split(",");for(X=0;X<Y.length;X++){if(Y[X]==="_"){Y[X]=0}else{if(Y[X]===""){Y[X]=0}Y[X]=parseInt(Y[X],36);if(X>0){Y[X]+=Y[0]}}}if(Y.length===1){Y.push(Y[0])}if(Y.length===2){Y.push(Y[0])}aa.encodedBodySize=Y[0];aa.transferSize=Y[1];aa.decodedBodySize=Y[2];return aa}function C(Z){var X={},ac,ab,aa,Y=[0,0,0];ac=Z.split("!");for(ab=0;ab<ac.length;ab++){aa=ac[ab].replace(/^~/,"Infinity~").replace("-","~0~").split("~").map(function(ad,ae){ad=(ad==="Infinity"?Infinity:parseInt(ad,36));if(ae===2){ad=Y[1]-ad}else{ad=ad+Y[ae]}Y[ae]=ad;return ad});X[aa[0]]=[aa[1],aa[2]||aa[1]]}return X}function U(Z,Y){var aa,ab,X;if(Z&&Y){for(aa=0;aa<Y.length;aa++){X=Y[aa];if(typeof X==="string"){ab=Z.indexOf(X);if(ab!==-1){Z=Z.substr(0,ab+X.length)+"...";break}}else{if(X instanceof RegExp){if(X.test(Z)){Z=Z.replace(X,"$1")+"..."}}}}}return NETR.utils.cleanupURL(Z,L.urlLimit)}function J(X){if(X.responseEnd){return X.responseEnd}if(X.responseStart&&X.startTime){return X.responseStart+(X.responseStart-X.startTime)*0.2}return Infinity}function e(ac,Z,Y){var ab=NETR.window.screen,aa=ab.height,X=ab.width;return Z.reduce(function(ah,ai){var ak,ag,af,ae,ad,aj;ak=Math.max(0,ai[3]);af=Math.max(0,ai[2]);ag=Math.min(ai[3]+ai[1],X);ae=Math.min(ai[2]+ai[0],aa);if(ak>=ag||af>=ae){return ah}for(aj=af;aj<ae;aj++){if(!ah[aj]){ah[aj]=[]}for(ad=ak;ad<ag;ad++){ah[aj][ad]=Y}}return ah},ac||[])}function H(Z,Y,X){Y=Y||0;X=X||Infinity;return Z.reduce(function(aa,ab){return aa+ab.filter(function(ac){return Y<=ac&&ac<=X}).length},0)}function R(aa){var ac,Y={},ah,ae,ag,ai,ab,X,Z,af,ad,aj=[];ah=Object.keys(aa);for(ac=0;ac<ah.length;ac++){ai=Math.round(Number(ah[ac]));if(typeof Y[ai]==="undefined"){Y[ai]=[]}Array.prototype.push.apply(Y[ai],aa[ah[ac]])}ah=Object.keys(Y).map(Number).sort(function(al,ak){return al-ak});if(ah.length===0){return{}}for(ac=0;ac<ah.length;ac++){ai=ah[ac];ae=e(ae,Y[ai],ai);X=H(ae);ah[ac]=[ai,X]}ag=0;ab=0;Z=0;for(ac=0;ac<ah.length;ac++){ai=ah[ac][0];X=ah[ac][1];af=H(ae,0,ai);if(X>ab||af>Z){ad=(ai===Infinity?"":f(Math.round(ai-ag)))+"~"+f(X-ab)+"~"+f(X-af);ad=ad.replace(/~~/,"-").replace(/~$/,"");aj.push(ad);ag=ai;ab=X;Z=af}}return aj.join("!").replace(/!+$/,"")}function b(aj,ak){var ad,ai,ae={},Z,X,ac,aa={};var ah=M(aj,ak,L.trackedResourceTypes);var ag=ah.entries,Y=ah.serverTiming;if(!ag||!ag.length){return{restiming:{},servertiming:[]}}for(ad=0;ad<ag.length;ad++){ai=ag[ad];Z=v[ai.initiatorType];if(typeof Z==="undefined"){Z=0}ac=Z+[s(ai.startTime,0),s(ai.responseEnd,ai.startTime),s(ai.responseStart,ai.startTime),s(ai.requestStart,ai.startTime),s(ai.connectEnd,ai.startTime),s(ai.secureConnectionStart,ai.startTime),s(ai.connectStart,ai.startTime),s(ai.domainLookupEnd,ai.startTime),s(ai.domainLookupStart,ai.startTime),s(ai.redirectEnd,ai.startTime),s(ai.redirectStart,ai.startTime)].map(f).join(",").replace(/,+$/,"");var ab=j(ai);if(ab!==""){ac+=N+z+ab}if(ai.hasOwnProperty("scriptAttrs")){ac+=N+r+ai.scriptAttrs}if(ai.serverTiming&&ai.serverTiming.length){ac+=N+t+ai.serverTiming.reduce(function(ao,ap,am){var ar=String(typeof ap.duration!=="undefined"?ap.duration:ap.value);if(ar.substring(0,2)==="0."){ar=ar.substring(1)}var an=ap.name||ap.metric;var aq=o(Y.indexed[an].index,Y.indexed[an].descriptions[ap.description]);ao+=(am>0?",":"")+ar+aq;return ao},"")}if(ai.hasOwnProperty("linkAttrs")){ac+=N+T+ai.linkAttrs}X=U(ai.name,L.trimUrls);if(!ai.hasOwnProperty("_data")){if(ae[X]!==undefined){ae[X]+="|"+ac}else{if(ai.visibleDimensions){ae[X]=N+c+ai.visibleDimensions.map(Math.round).map(f).join(",").replace(/,+$/,"")+"|"+ac}else{ae[X]=ac}}}else{var af="";for(var al in ai._data){if(ai._data.hasOwnProperty(al)){af+=N+I+al+":"+ai._data[al]}}if(typeof ae[X]==="undefined"){ae[X]=ac+af}else{ae[X]+=af}}if(ai.visibleDimensions){if(!aa[ai.latestTime]){aa[ai.latestTime]=[]}aa[ai.latestTime].push(ai.visibleDimensions)}}return{restiming:E(S(ae),true),servertiming:Y.lookup}}function O(Z){var aa=[];if(!Z||!Z.length){return aa}for(var Y=0;Y<Z.length;Y++){var X=Z[Y];if(Y!==Z.length-1&&X.fetchStart===Z[Y+1].fetchStart){continue}aa.push({fetchStart:X.fetchStart,responseEnd:X.responseStart||X.responseEnd})}return aa}function k(ad){var Z;if(!ad||!ad.length){return 0}ad.sort(function(ag,af){if(ag.fetchStart!==af.fetchStart){return ag.fetchStart-af.fetchStart}else{var ah=ag.responseStart||ag.responseEnd;var ai=af.responseStart||af.responseEnd;return ah-ai}});var ae=O(ad);var ac=[];var X=0;for(Z=0;Z<ae.length;Z++){var Y=ae[Z];if(Y.fetchStart<X){Y.fetchStart=X}if(Y.fetchStart<Y.responseEnd){ac.push(Y);X=Y.responseEnd}}var ab=O(ac);var aa=0;for(Z=0;Z<ab.length;Z++){aa+=ab[Z].responseEnd-ab[Z].fetchStart}return aa}function A(Z,Y){var X;if(typeof JSON==="undefined"){return}NETR.removeVar("restiming");NETR.removeVar("servertiming");X=b(Z,Y);if(X){V(X)}}function G(Y,X){(X||[]).forEach(function(ab){var aa=ab.name||ab.metric;if(typeof Y[aa]==="undefined"){Y[aa]={count:0,counts:{}}}var Z=Y[aa];Z.counts[ab.description]=Z.counts[ab.description]||0;Z.counts[ab.description]++;Z.count++})}function a(X){return Object.keys(X).sort(function(Z,Y){return X[Y].count-X[Z].count}).reduce(function(aa,Z){var Y=Object.keys(X[Z].counts).sort(function(ac,ab){return X[Z].counts[ab]-X[Z].counts[ac]});aa.push(Y.length===1&&Y[0]===""?Z:[Z].concat(Y));return aa},[])}function F(X){return X.reduce(function(Z,ac,Y){var ab,aa;if(Array.isArray(ac)){ab=ac[0];aa=ac.slice(1).reduce(function(ad,ae,af){ad[ae]=af;return ad},{})}else{ab=ac;aa={"":0}}Z[ab]={index:Y,descriptions:aa};return Z},{})}function o(X,Z){var Y="";if(X){Y+=X}if(Z){Y+="."+Z}if(Y.length){Y=":"+Y}return Y}function V(X){NETR.addVar("restiming",JSON.stringify(X.restiming));if(X.servertiming.length){NETR.addVar("servertiming",NETR.utils.serializeForUrl(X.servertiming))}}function d(Y,af){var ab=af.split(":");var Z=Number(ab[0]);var ac=0,ad=0;if(ab.length>1){var aa=ab[1].split(".");if(aa[0]!==""){ac=Number(aa[0])}if(aa.length>1){ad=Number(aa[1])}}var X,ae="";if(Array.isArray(Y[ac])){X=Y[ac][0];ae=Y[ac][1+ad]||""}else{X=Y[ac]}return{name:X,duration:Z,description:ae}}L={complete:false,unload:false,initialized:false,supported:false,xhr_load:function(){if(this.complete){return}this.complete=true;NETR.sendBeacon()},xssBreakWords:D,done:function(){var X;X=n();if(X){NETR.removeVar("restiming");NETR.addVar({restiming:JSON.stringify(X)})}this.complete=true},is_unload:function(){this.unload=true},clearMetrics:function(X){if(X.hasOwnProperty("restiming")){NETR.removeVar("restiming")}}};NETR.plugins.ResourceTiming={init:function(X){var Y=NETR.window.performance;if(Y.setResourceTimingBufferSize){Y.setResourceTimingBufferSize(500)}else{if(Y.webkitSetResourceTimingBufferSize){Y.webkitSetResourceTimingBufferSize(500)}}NETR.utils.pluginConfig(L,X,"ResourceTiming",["xssBreakWords"]);if(L.initialized){return this}if(Y&&typeof Y.getEntriesByType==="function"){NETR.subscribe("xhr_load",L.xhr_load,null,L);NETR.subscribe("page_ready",L.done,null,L);NETR.subscribe("page_unload",L.done,null,L);NETR.subscribe("onbeacon",L.clearMetrics,null,L);L.supported=true}else{L.complete=true}L.initialized=true;return this},is_complete:function(){return true},is_enabled:function(){return L.initialized&&this.is_supported()},is_supported:function(){return L.initialized&&L.supported},getCompressedResourceTiming:b,getFilteredResourceTiming:M,calculateResourceTimingUnion:k,addResourceTimingToBeacon:A,addToBeacon:V,trimTiming:s,convertToTrie:S,optimizeTrie:E,findPerformanceEntriesForFrame:y,toBase36:f,getVisibleEntries:l,reduceFetchStarts:O,compressSize:j,decompressSize:W,trimUrl:U,getResourceLatestTime:J,mergePixels:e,countPixels:H,getOptimizedTimepoints:R,decompressTimePoints:C,accumulateServerTimingEntries:G,compressServerTiming:a,indexServerTiming:F,identifyServerTimingEntry:o,decompressServerTiming:d,SPECIAL_DATA_PREFIX:N,SPECIAL_DATA_DIMENSION_TYPE:c,SPECIAL_DATA_SIZE_TYPE:z,SPECIAL_DATA_SCRIPT_ATTR_TYPE:r,SPECIAL_DATA_LINK_ATTR_TYPE:T,ASYNC_ATTR:m,DEFER_ATTR:h,LOCAT_ATTR:Q,INITIATOR_TYPES:v,REL_TYPES:u}}());
(function(){NETR=NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.NavigationTiming){return}var a={complete:false,xhr_done:function(f){var b=NETR.window,d,e={},c;if(!f){return}if(f.data){f=f.data}if(f.url&&b.performance&&b.performance.getEntriesByName){d=b.performance.getEntriesByName(f.url);if(d&&d.length>0){d=d[0];e={nt_red_st:d.redirectStart,nt_red_end:d.redirectEnd,nt_fet_st:d.fetchStart,nt_dns_st:d.domainLookupStart,nt_dns_end:d.domainLookupEnd,nt_con_st:d.connectStart,nt_con_end:d.connectEnd,nt_req_st:d.requestStart,nt_res_st:d.responseStart,nt_res_end:d.responseEnd};if(d.secureConnectionStart){e.nt_ssl_st=d.secureConnectionStart}for(c in e){if(e.hasOwnProperty(c)&&e[c]){e[c]+=b.performance.timing.navigationStart}}}}if(f.timing){d=f.timing;if(!e.nt_req_st){e.nt_req_st=d.requestStart}if(!e.nt_res_st){e.nt_res_st=d.responseStart}if(!e.nt_res_end){e.nt_res_end=d.responseEnd}e.nt_domint=d.domInteractive;e.nt_domcomp=d.domComplete;e.nt_load_st=d.loadEventEnd;e.nt_load_end=d.loadEventEnd}for(c in e){if(e.hasOwnProperty(c)&&!e[c]){delete e[c]}}NETR.addVar(e);try{a.addedVars.push.apply(a.addedVars,Object.keys(e))}catch(g){}this.complete=true;NETR.sendBeacon()},done:function(){var b=NETR.window,f,c,e,d;if(this.complete){return this}a.addedVars=[];f=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(f&&f.timing&&f.navigation){c=f.navigation;e=f.timing;d={nt_red_cnt:c.redirectCount,nt_nav_type:c.type,nt_nav_st:e.navigationStart,nt_red_st:e.redirectStart,nt_red_end:e.redirectEnd,nt_fet_st:e.fetchStart,nt_dns_st:e.domainLookupStart,nt_dns_end:e.domainLookupEnd,nt_con_st:e.connectStart,nt_con_end:e.connectEnd,nt_req_st:e.requestStart,nt_res_st:e.responseStart,nt_res_end:e.responseEnd,nt_domloading:e.domLoading,nt_domint:e.domInteractive,nt_domcontloaded_st:e.domContentLoadedEventStart,nt_domcontloaded_end:e.domContentLoadedEventEnd,nt_domcomp:e.domComplete,nt_load_st:e.loadEventStart,nt_load_end:e.loadEventEnd,nt_unload_st:e.unloadEventStart,nt_unload_end:e.unloadEventEnd};if(e.secureConnectionStart){d.nt_ssl_st=e.secureConnectionStart}NETR.addVar(d);try{a.addedVars.push.apply(a.addedVars,Object.keys(d))}catch(g){}}this.complete=true;NETR.sendBeacon()},clear:function(){if(a.addedVars&&a.addedVars.length>0){NETR.removeVar(a.addedVars);a.addedVars=[]}this.complete=false}};NETR.plugins.NavigationTiming={init:function(){if(!a.initialized){NETR.subscribe("page_ready",a.done,null,a);NETR.subscribe("xhr_load",a.xhr_done,null,a);NETR.subscribe("before_unload",a.done,null,a);NETR.subscribe("onbeacon",a.clear,null,a);a.initialized=true}return this},is_complete:function(){return true}}}());
(function(a){var c=a.document,b;NETR=NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.RT){return}b={onloadfired:false,unloadfired:false,visiblefired:false,initialized:false,complete:false,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:true,navigationType:0,navigationStart:undefined,responseStart:undefined,t_start:undefined,cached_t_start:undefined,t_fb_approx:undefined,r:undefined,r2:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(h,j){var g,e,f,d;if(!this.cookie){return false}f=NETR.utils.getSubCookies(NETR.utils.getCookie(this.cookie))||{};if(typeof h==="object"){for(d in h){if(h.hasOwnProperty(d)){if(h[d]===undefined){if(f.hasOwnProperty(d)){delete f[d]}}else{if(d==="nu"||d==="r"){h[d]=NETR.utils.hashQueryString(h[d],true)}f[d]=h[d]}}}}e=NETR.now();if(j){f[j]=e}if(!NETR.utils.setCookie(this.cookie,f,this.cookie_exp)){return false}g=NETR.now();if(g-e>50){NETR.utils.removeCookie(this.cookie);NETR.error("took more than 50ms to set cookie... aborting: "+e+" -> "+g,"rt")}return true},initFromCookie:function(){var d,e;e=NETR.utils.getSubCookies(NETR.utils.getCookie(this.cookie));if(!e){return}e.s=Math.max(+e.ld||0,Math.max(+e.ul||0,+e.cl||0));if(e.s&&(e.r||e.nu)){this.r=e.r;d=NETR.utils.hashQueryString(c.URL,true);if(!this.strict_referrer||(e.nu&&e.nu===d&&e.s<+e.cl+15)||(e.s===+e.ul&&this.r===this.r2)){this.t_start=e.s;if(+e.hd>e.s){this.t_fb_approx=parseInt(e.hd,10)}}else{this.t_start=this.t_fb_approx=undefined}}this.updateCookie({s:undefined,r:undefined,nu:undefined,ul:undefined,cl:undefined,hd:undefined})},getBoomerangTimings:function(){var g,l,f,h,j;function d(n,m){var o=Math.round(n?n:0),e=Math.round(m?m:0);o=(o===0?0:(o-e));return o?o:""}if(NETR.t_start){NETR.plugins.RT.startTimer("boomerang",NETR.t_start);NETR.plugins.RT.endTimer("boomerang",NETR.t_end);NETR.plugins.RT.endTimer("boomr_fb",NETR.t_start);if(NETR.t_lstart){NETR.plugins.RT.endTimer("boomr_ld",NETR.t_lstart);NETR.plugins.RT.setTimer("boomr_lat",NETR.t_start-NETR.t_lstart)}}try{if(window.performance&&window.performance.getEntriesByName){l={"rt.bmr":NETR.url};for(f in l){if(l.hasOwnProperty(f)&&l[f]){g=window.performance.getEntriesByName(l[f]);if(!g||g.length===0){continue}g=g[0];h=d(g.startTime,0);j=[h,d(g.responseEnd,h),d(g.responseStart,h),d(g.requestStart,h),d(g.connectEnd,h),d(g.secureConnectionStart,h),d(g.connectStart,h),d(g.domainLookupEnd,h),d(g.domainLookupStart,h),d(g.redirectEnd,h),d(g.redirectStart,h)].join(",").replace(/,+$/,"");NETR.addVar(f,j);b.addedVars.push(f)}}}}catch(k){NETR.addError(k,"rt.getBoomerangTimings")}},checkPreRender:function(){if(NETR.visibilityState()!=="prerender"){return false}NETR.plugins.RT.startTimer("t_load",this.navigationStart);NETR.plugins.RT.endTimer("t_load");NETR.plugins.RT.startTimer("t_prerender",this.navigationStart);NETR.plugins.RT.startTimer("t_postrender");return true},initFromNavTiming:function(){var d,f,e;if(this.navigationStart){return}f=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance;if(f&&f.navigation){this.navigationType=f.navigation.type}if(f&&f.timing){d=f.timing}else{if(a.chrome&&a.chrome.csi&&a.chrome.csi().startE){d={navigationStart:a.chrome.csi().startE};e="csi"}else{if(a.gtbExternal&&a.gtbExternal.startE()){led;d={navigationStart:a.gtbExternal.startE()};e="gtb"}}}if(d){NETR.addVar("rt.start",e||"navigation");this.navigationStart=d.navigationStart||d.fetchStart||undefined;this.responseStart=d.responseStart||undefined;if(navigator.userAgent.match(/Firefox\/[78]\./)){this.navigationStart=d.unloadEventStart||d.fetchStart||undefined}}return},validateLoadTimestamp:function(f,e,d){if(e&&e.timing&&e.timing.loadEventEnd){return e.timing.loadEventEnd}else{if(d==="xhr"&&(!e||e.initiator!=="spa")){return f}else{if(NETR.loadedLate){if(a.performance&&a.performance.timing){if(a.performance.timing.loadEventStart&&a.performance.timing.loadEventStart<NETR.t_end){return a.performance.timing.loadEventStart}}else{return NETR.t_onload||NETR.t_lstart||NETR.t_start||f}}}}return f},setPageLoadTimers:function(d,f,g){var e;if(d!=="xhr"){b.initFromCookie();b.initFromNavTiming();if(b.checkPreRender()){return false}}if(d==="xhr"){if(g&&g.timing){e=g.timing.responseStart}}else{if(b.responseStart){e=b.responseStart}else{if(b.timers.hasOwnProperty("t_page")){NETR.plugins.RT.endTimer("t_page")}else{if(b.t_fb_approx){e=b.t_fb_approx}}}}if(e){NETR.plugins.RT.endTimer("t_resp",e);if(b.timers.t_load){NETR.plugins.RT.setTimer("t_page",b.timers.t_load.end-e)}else{NETR.plugins.RT.setTimer("t_page",f-e)}}if(b.timers.hasOwnProperty("t_postrender")){NETR.plugins.RT.endTimer("t_postrender");NETR.plugins.RT.endTimer("t_prerender")}return true},setSupportingTimestamps:function(d){if(d){NETR.addVar("rt.tstart",d)}if(typeof b.t_start==="number"&&b.t_start!==d){NETR.addVar("rt.cstart",b.t_start)}NETR.addVar("rt.bstart",NETR.t_start);if(NETR.t_lstart){NETR.addVar("rt.blstart",NETR.t_lstart)}NETR.addVar("rt.end",b.timers.t_done.end)},determineTStart:function(e,f){var d;if(e==="xhr"){if(f&&f.name&&b.timers[f.name]){d=b.timers[f.name].start}else{if(f&&f.timing&&f.timing.requestStart){d=f.timing.requestStart}}if(typeof d==="undefined"&&f&&f.initiator==="spa"){NETR.addVar("rt.start","none")}else{NETR.addVar("rt.start","manual")}}else{if(b.navigationStart){d=b.navigationStart}else{if(b.t_start&&b.navigationType!==2){d=b.t_start;NETR.addVar("rt.start","cookie")}else{if(b.cached_t_start){d=b.cached_t_start}else{NETR.addVar("rt.start","none");d=undefined}}}}b.cached_t_start=d;return d},page_ready:function(){this.onloadfired=true},check_visibility:function(){if(NETR.visibilityState()==="visible"){b.visiblefired=true}if(b.visibilityState==="prerender"&&NETR.visibilityState()!=="prerender"){NETR.plugins.RT.done(null,"visible")}b.visibilityState=NETR.visibilityState()},page_unload:function(d){this.updateCookie({r:c.URL},d.type==="beforeunload"?"ul":"hd");this.unloadfired=true},_iterable_click:function(e,f,h,d){var g;if(!h){return}while(h&&h.nodeName.toUpperCase()!==f){h=h.parentNode}if(h&&h.nodeName.toUpperCase()===f){g=d(h);this.updateCookie({nu:g},"cl");NETR.addVar("nu",NETR.utils.cleanupURL(g));b.addedVars.push("nu")}},onclick:function(d){b._iterable_click("Click","A",d,function(e){return e.href})},onsubmit:function(d){b._iterable_click("Submit","FORM",d,function(f){var e=f.getAttribute("action")||c.URL||"";return e.match(/\?/)?e:e+"?"})},domloaded:function(){NETR.plugins.RT.endTimer("t_domloaded")},clear:function(){if(b.addedVars&&b.addedVars.length>0){NETR.removeVar(b.addedVars);b.addedVars=[]}}};NETR.plugins.RT={init:function(d){if(a!==NETR.window){a=NETR.window}c=a.document;NETR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]);b.r=b.r2=NETR.utils.hashQueryString(c.referrer,true);b.initFromCookie();b.getBoomerangTimings();if(b.initialized){return this}b.complete=false;b.timers={};b.check_visibility();NETR.subscribe("page_ready",b.page_ready,null,b);NETR.subscribe("visibility_changed",b.check_visibility,null,b);NETR.subscribe("page_unload",this.done,"load",this);NETR.subscribe("xhr_load",this.done,"xhr",this);NETR.subscribe("dom_loaded",b.domloaded,null,b);NETR.subscribe("page_unload",b.page_unload,null,b);NETR.subscribe("click",b.onclick,null,b);NETR.subscribe("form_submit",b.onsubmit,null,b);NETR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);NETR.subscribe("onbeacon",b.clear,null,b);b.initialized=true;return this},startTimer:function(d,e){if(d){if(d==="t_page"){this.endTimer("t_resp",e)}b.timers[d]={start:(typeof e==="number"?e:NETR.now())}}return this},endTimer:function(d,e){if(d){b.timers[d]=b.timers[d]||{};if(b.timers[d].end===undefined){b.timers[d].end=(typeof e==="number"?e:NETR.now())}}return this},setTimer:function(d,e){if(d){b.timers[d]={delta:e}}return this},clearTimer:function(d){if(d){delete b.timers[d]}return this},addTimersToBeacon:function(g,e){var f,h,d=[];for(f in b.timers){if(b.timers.hasOwnProperty(f)){h=b.timers[f];if(typeof h.delta!=="number"){if(typeof h.start!=="number"){h.start=b.cached_t_start}h.delta=h.end-h.start}if(isNaN(h.delta)){continue}if(b.basic_timers.hasOwnProperty(f)){NETR.addVar(f,h.delta);b.addedVars.push(f)}else{d.push(f+"|"+h.delta)}}}if(d.length){NETR.addVar("t_other",d.join(","));b.addedVars.push("t_other")}if(e==="beacon"){b.timers={};b.complete=false}},done:function(k,f){try{}catch(h){}var e,g,j=NETR.now(),d=false;b.complete=false;g=b.validateLoadTimestamp(j,k,f);if(f==="load"||f==="visible"||f==="xhr"){if(!b.setPageLoadTimers(f,g,k)){return this}}e=b.determineTStart(f,k);this.endTimer("t_done",g);NETR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync");b.setSupportingTimestamps(e);this.addTimersToBeacon();NETR.addVar("r",NETR.utils.cleanupURL(b.r));if(b.r2!==b.r){NETR.addVar("r2",NETR.utils.cleanupURL(b.r2))}if(f==="xhr"&&k){if(k&&k.data){k=k.data}}if(f==="xhr"&&k){d=k.subresource;if(k.url){NETR.addVar("u",NETR.utils.cleanupURL(k.url.replace(/#.*/,"")));b.addedVars.push("u")}if(k.status&&(k.status<-1||k.status>=400)){NETR.addVar("http.errno",k.status)}if(k.method&&k.method!=="GET"){NETR.addVar("http.method",k.method)}if(k.headers){NETR.addVar("http.hdr",k.headers)}if(k.synchronous){NETR.addVar("xhr.sync",1)}if(k.initiator){NETR.addVar("http.initiator",k.initiator)}b.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")}if(d&&d!=="passive"){NETR.addVar("rt.subres",1);b.addedVars.push("rt.subres")}b.updateCookie();if(f==="unload"){NETR.addVar("rt.quit","");if(!b.onloadfired){NETR.addVar("rt.abld","")}if(!b.visiblefired){NETR.addVar("rt.ntvu","")}}b.complete=true;NETR.real_sendBeacon();return this},is_complete:function(){return b.complete},navigationStart:function(){if(!b.navigationStart){b.initFromNavTiming()}return b.navigationStart}}}(window));
(function(){NETR=NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.ErrorsCatcher){return}var a={complete:false,initialized:false,errors:null,init:function(){this.errors=new Array();window.onerror=function(g,d,b,f,e){if(g.indexOf("Script error.")>-1){return}var c={errorMessage:g,source:d,lineNumber:b,column:f,stack:e.stack};NETR.plugins.ErrorsCatcher.add_error(c)}},done:function(){NETR.addVar("jserrors",JSON.stringify(this.errors));this.complete=true;NETR.sendBeacon()},clear:function(){this.errors=new Array()}};NETR.plugins.ErrorsCatcher={init:function(){if(!a.initialized){a.init();NETR.subscribe("page_ready",a.done,null,a);NETR.subscribe("before_unload",a.done,null,a);NETR.subscribe("pagehide",a.done,null,a);NETR.subscribe("onbeacon",a.clear,null,a);a.initialized=true}return this},is_complete:function(){return true},add_error:function(b){a.errors.push(b);NETR.addVar("jserrors",JSON.stringify(a.errors))}}}());
(function(){var impl;NETR=NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.CustomParams){return}impl={complete:false,unload:false,initialized:false,supported:false,execute:function(){if(typeof NETR.getVar("custom_params_config")!=="undefined"){var config=JSON.parse(atob(NETR.getVar("custom_params_config")));for(var index in config){if(typeof config[index]["type"]!="undefined"){var name=config[index]["name"];var type=config[index]["type"];var value=atob(config[index]["value"])}else{var name=index;var type="regex";var value=atob(config[index])}switch(type){case"regex":impl.cpRegex(name,value);break;case"variable":impl.cpVar(name,value);break;default:impl.cpRegex(name,value);break}}NETR.removeVar("custom_params_config");this.complete=true}},clearMetrics:function(vars){if(vars.hasOwnProperty("custom_params_config")){NETR.removeVar("custom_params_config")}},cpRegex:function(name,value){try{var re=new RegExp(eval(value));var res=document.documentElement.innerHTML.match(re)}catch(e){var res=null}if(res!==null&&typeof res!=="undefined"){for(i=1;i<6;i++){if(res[i]!==null&&typeof res[i]!=="undefined"){NETR.addVar("__cp_"+name,res[i].slice(0,300))}}}},cpVar:function(name,value){try{var res=eval(value).toString()}catch(e){var res=null}if(res!==null&&typeof res=="string"&&res.length>0){NETR.addVar("__cp_"+name,res.slice(0,300))}}};NETR.plugins.CustomParams={init:function(){if(!impl.initialized){NETR.subscribe("page_ready",impl.execute,null,impl);NETR.subscribe("onbeacon",impl.clear,null,impl);impl.initialized=true}return this},is_complete:function(){return true}}}());
(function(){var o,E,c,F,A,s=["uninitialized","open","responseStart","domInteractive","responseEnd"];var e=1000;var q=50;var b=200;var C=1000;var j=500;var n=-1001;var y=-999;var k=-998;var r=-997;var h=["xmlhttprequest","script"];NETR=window.NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.AutoXHR){return}o=NETR.window;if(!o||!o.XMLHttpRequest||!(new o.XMLHttpRequest()).addEventListener){return}function m(a){}function B(a){if(!a){return null}a.href=a.href;var d=a.pathname;if(d.charAt(0)!=="/"){d="/"+d}return d}function l(a){var d;if(a.href){if(a.href.match(/^(about:|javascript:|data:)/i)){return true}if(typeof NETR.getBeaconURL==="function"&&NETR.getBeaconURL()){d=a.href.indexOf(NETR.getBeaconURL());if(d===0||d===5||d===6){return true}}}return NETR.xhr_excludes.hasOwnProperty(a.href)||NETR.xhr_excludes.hasOwnProperty(a.hostname)||NETR.xhr_excludes.hasOwnProperty(B(a))}function u(){this.watch=0;this.timer=null;this.pending_events=[];this.lastSpaLocation=null}u.stop=function(){u.pause();u.observer=null};u.pause=function(){if(u.observer&&u.observer.observer&&!u.isPaused){u.isPaused=true;u.observer.observer.disconnect()}};u.resume=function(){if(u.observer&&u.observer.observer&&u.isPaused){u.isPaused=false;u.observer.observer.observe(E,u.observer.config)}};u.start=function(){if(u.observer){return}var a={childList:true,attributes:true,subtree:true,attributeFilter:["src","href"]};u.observer=NETR.utils.addObserver(E,a,null,c.mutation_cb,null,c);if(u.observer){u.observer.config=a;NETR.subscribe("page_unload",u.stop,null,u)}};u.prototype.addEvent=function(I){var H={type:I.initiator,resource:I,nodes_to_wait:0,total_nodes:0,resources:[],aborted:false,complete:false},w,a,G,d=this.pending_events.length;for(w=d-1;w>=0;w--){if(this.pending_events[w]&&!this.pending_events[w].complete){a=this.pending_events[w];G=w;break}}if(a){if(a.type==="click"){if(a.nodes_to_wait===0||!a.resource.url){this.pending_events[w]=undefined}}else{if(a.type==="xhr"){if(H.type==="click"){return null}}else{if(NETR.utils.inArray(a.type,NETR.constants.BEACON_TYPE_SPAS)){if(H.type==="xhr"){return null}if(NETR.utils.inArray(H.type,NETR.constants.BEACON_TYPE_SPAS)){m("Aborting previous SPA navigation");a.resource.timing.loadEventEnd=NETR.now();a.aborted=true;this.sendEvent(G)}}}}}this.watch++;this.pending_events.push(H);if(!u.observer){if(NETR.utils.inArray(H.type,NETR.constants.BEACON_TYPE_SPAS)){u.start();this.setTimeout(e,d);return d}if(I.url&&I.timing.loadEventEnd){this.sendEvent(d)}return null}else{if(!NETR.utils.inArray(H.type,NETR.constants.BEACON_TYPE_SPAS)){this.setTimeout(q,d)}else{this.setTimeout(e,d)}return d}};u.prototype.sendEvent=function(w){var G=this.pending_events[w],a=this,d=NETR.now();if(!G||G.complete){return}this.clearTimeout();if(NETR.readyToSend()){G.complete=true;this.watch--;G.resource.resources=G.resources;if(NETR.utils.inArray(G.type,NETR.constants.BEACON_TYPE_SPAS)){G.resource.url=E.URL}if(G.type==="spa"&&G.total_nodes===0&&G.resource.url===a.lastSpaLocation){m("SPA beacon cancelled, no URL change or resources triggered");NETR.fireEvent("spa_cancel");this.pending_events[w]=undefined;return}if(NETR.utils.inArray(G.type,NETR.constants.BEACON_TYPE_SPAS)){a.lastSpaLocation=G.resource.url;if(!G.forced&&G.total_nodes===0){G.resource.timing.loadEventEnd=d-e}}this.sendResource(G.resource,w)}else{setTimeout(function(){a.sendEvent(w)},j)}};u.prototype.sendResource=function(H,w){var a=this,G=a.pending_events[w];var d=H.timing?H.timing.requestStart:undefined;var I=function(K,J){if(K){H.timing.loadEventEnd=J||NETR.now()}NETR.real_sendBeacon();if(H.onComplete){H.onComplete(H)}if(NETR.plugins.ResourceTiming&&NETR.plugins.ResourceTiming.is_enabled()&&H.timing&&H.timing.requestStart){var L=NETR.plugins.ResourceTiming.getCompressedResourceTiming(H.timing.requestStart,H.timing.loadEventEnd);NETR.plugins.ResourceTiming.addToBeacon(L)}if(NETR.utils.inArray(H.initiator,NETR.constants.BEACON_TYPE_SPAS)){a.calculateSpaTimings(H);if(typeof w==="number"&&a.pending_events[w].aborted){NETR.addVar("pgu",E.URL);NETR.addVar("rt.quit","");NETR.addVar("rt.abld","");A.addedVars.push("pgu","rt.quit","rt.abld")}}NETR.responseEnd(H,d,H);if(typeof w==="number"){a.pending_events[w]=undefined}};if(!H.wait){if(H.initiator==="spa_hard"){if((!G||!G.aborted)&&!NETR.hasBrowserOnloadFired()){o.addEventListener("load",function(){var J=NETR.now();NETR.setImmediate(function(){I(true,J)})});return}}I(false)}else{H.waitComplete=function(){I(true)}}};u.prototype.calculateSpaTimings=function(H){var J=NETR.getPerformance();if(!J||!J.timing){return}if(H.initiator==="spa_hard"){H.timing.responseEnd=J.timing.responseStart;H.timing.fetchStart=J.timing.navigationStart}else{if(!NETR.plugins.ResourceTiming||!NETR.plugins.ResourceTiming.is_supported()){return}var I=NETR.plugins.ResourceTiming.getFilteredResourceTiming(H.timing.requestStart,H.timing.loadEventEnd,A.spaBackEndResources).entries;var G=Math.round(H.timing.loadEventEnd-H.timing.requestStart);if(!I||!I.length){H.timers={t_resp:0,t_page:G,t_done:G};return}var w=H.timing.loadEventEnd-J.timing.navigationStart;for(var d=0;d<I.length;d++){if(I[d].responseStart>w){I[d].responseStart=w;I[d].responseEnd=w}else{if(I[d].responseEnd>w){I[d].responseEnd=w}}}var K=Math.round(NETR.plugins.ResourceTiming.calculateResourceTimingUnion(I));var a=G-K;if(K<0||G<0||a<0){NETR.addError("Incorrect SPA time calculation");return}H.timers={t_resp:K,t_page:a,t_done:G}}};u.prototype.setTimeout=function(w,d){var a=this;if(!w){return}this.clearTimeout();this.timer=setTimeout(function(){a.timedout(d)},w)};u.prototype.timedout=function(a){var d;this.clearTimeout();d=this.pending_events[a];if(d&&NETR.utils.inArray(d.type,NETR.constants.BEACON_TYPE_SPAS.concat("xhr"))){if(d.nodes_to_wait===0){this.sendEvent(a)}}else{if(this.watch>0){this.watch--}this.pending_events[a]=undefined}};u.prototype.clearTimeout=function(){if(this.timer){clearTimeout(this.timer);this.timer=null}};u.prototype.load_cb=function(G,w){var H,d,a=NETR.now();H=G.target||G.srcElement;if(!H||!H._bmr){return}d=H._bmr.idx;w=typeof w!=="undefined"?w:(H._bmr.res||0);if(H._bmr.end[w]){return}H._bmr.end[w]=a;this.load_finished(d,a)};u.prototype.load_finished=function(w,a){var d=this.pending_events[w];if(!d){return}d.nodes_to_wait--;if(d.nodes_to_wait===0){d.resource.timing.loadEventEnd=a||NETR.now();if(NETR.utils.inArray(d.type,NETR.constants.BEACON_TYPE_SPAS)){this.setTimeout(e,w)}else{this.sendEvent(w)}}};u.prototype.wait_for_node=function(d,L){var O=this,M,I,w=false,J,G,a,P=false,K,H,N;if(d&&d.nodeName&&(d.nodeName.toUpperCase().match(/^(IMG|SCRIPT|IFRAME|IMAGE)$/)||(d.nodeName.toUpperCase()==="LINK"&&d.rel&&d.rel.match(/\<stylesheet\>/i)))){if(d._bmr&&typeof d._bmr.res==="number"&&d._bmr.end[d._bmr.res]){P=true}a=d.src||(typeof d.getAttribute==="function"&&d.getAttribute("xlink:href"))||d.href;if(!a||a.match(/^(about:|javascript:|data:)/i)){return false}if(d._bmr&&d._bmr.url!==a){P=true}if(d.nodeName==="IMG"){if(d.naturalWidth&&!P){return false}else{if(typeof d.getAttribute==="function"&&d.getAttribute("src")===""){return false}}}if(d.nodeName==="IFRAME"&&P){return false}if(typeof d.getAttribute==="function"){H=parseInt(d.getAttribute("height"),10);N=parseInt(d.getAttribute("width"),10)}if(isNaN(H)){H=(d.style&&(d.style.height==="0"||d.style.height==="0px"||d.style.height==="1px"))?0:undefined}if(isNaN(N)){N=(d.style&&(d.style.width==="0"||d.style.width==="0px"||d.style.width==="1px"))?0:undefined}if(!isNaN(H)&&H<=1&&!isNaN(N)&&N<=1){return false}if(d.style&&d.style.display==="none"){return false}if(d.style&&d.style.visibility==="hidden"){return false}M=this.pending_events[L];if(!M){return false}K=M.resources.length;if(!d._bmr){d._bmr={end:{}}}if(!M.urls){M.urls={}}if(M.urls[a]){return false}if(d.nodeName==="SCRIPT"&&A.singlePageApp){return false}if(!M.resource.url){F.href=a;if(A.excludeFilter(F)){m("Exclude for "+F.href+" matched. Excluding");return false}M.resource.url=F.href}d._bmr.res=K;d._bmr.idx=L;delete d._bmr.end[K];d._bmr.url=a;d.addEventListener("load",function(Q){O.load_cb(Q,K)});d.addEventListener("error",function(Q){O.load_cb(Q,K)});M.nodes_to_wait++;this.clearTimeout();M.total_nodes++;M.resources.push(d);M.urls[a]=1;w=true}else{if(d.nodeType===Node.ELEMENT_NODE){["IMAGE","IMG"].forEach(function(Q){I=d.getElementsByTagName(Q);if(I&&I.length){for(J=0,G=I.length;J<G;J++){w|=this.wait_for_node(I[J],L)}}},this)}}return w};u.prototype.add_event_resource=function(w){var d=this.pending_events.length-1,a;if(d<0){return -1}a=this.pending_events[d];if(!a){return -1}if(!w){return -1}a.nodes_to_wait++;a.total_nodes++;w.index=d;return d};u.prototype.mutation_cb=function(d){var w,G,a;if(!this.watch){return true}w=this;G=this.pending_events.length-1;if(G<0||!this.pending_events[G]){return true}a=this.pending_events[G];if(typeof a.interesting==="undefined"){a.interesting=false}if(d&&d.length){a.resource.timing.domComplete=NETR.now();d.forEach(function(I){var J,H,K;if(I.type==="attributes"){a.interesting|=w.wait_for_node(I.target,G)}else{if(I.type==="childList"){H=I.addedNodes.length;for(J=0;J<H;J++){a.interesting|=w.wait_for_node(I.addedNodes[J],G)}H=I.removedNodes.length;for(J=0;J<H;J++){K=I.removedNodes[J];if(K.nodeName==="IFRAME"&&K._bmr){w.load_cb({target:K,type:"removed"})}}}}})}if(!a.interesting&&!this.timeoutExtended){this.setTimeout(C,G);this.timeoutExtended=true}return true};u.prototype.queue_is_empty=function(){return this.nodesWaitingFor()===0};u.prototype.nodesWaitingFor=function(){if(this.pending_events.length===0){return 0}var a=this.pending_events.length-1;if(!this.pending_events[a]){return 0}return this.pending_events[a].nodes_to_wait};u.prototype.hasActiveEvent=function(){if(this.pending_events.length===0){return false}var a=this.pending_events.length-1;var d=this.pending_events[a];if(!d){return false}if(d.type==="click"){return false}return true};u.prototype.completeEvent=function(){var d=NETR.now(),a,w;if(this.pending_events.length===0){return}a=this.pending_events.length-1;w=this.pending_events[a];if(!w){return}w.resource.timing.loadEventEnd=d;w.forced=true;this.sendEvent(a)};c=new u();function z(){NETR.subscribe("click",function(){if(A.singlePageApp){return}var a={timing:{},initiator:"click"};if(!NETR.orig_XMLHttpRequest||NETR.orig_XMLHttpRequest===o.XMLHttpRequest){return}a.timing.requestStart=NETR.now();c.addEvent(a)})}function v(a,H){var d,G;if(!H||!a){return false}if(typeof H==="boolean"){return H===true}if(typeof H==="function"){try{return H(a)===true}catch(w){return false}}if(NETR.utils.isArray(H)){for(d=0;d<H.length;d++){G=H[d];if(typeof G==="string"&&G===a){return true}else{if(G instanceof RegExp){if(G.test(a)){return true}}}}}return false}function x(){if(!A.monitorFetch||typeof o.fetch!=="function"||typeof o.Request!=="function"||typeof o.Response!=="function"||typeof o.Promise!=="function"||typeof window.fetch!=="function"||o.fetch.polyfill){return}if(NETR.proxy_fetch&&NETR.proxy_fetch===o.fetch){return}if(NETR.proxy_fetch&&NETR.orig_fetch&&NETR.orig_fetch===o.fetch){o.fetch=NETR.proxy_fetch;return}NETR.orig_fetch=o.orig_fetch||o.fetch;NETR.proxy_fetch=function(J,L){var d,a,K,w={timing:{},initiator:"xhr"};if(typeof J==="object"&&J instanceof o.Request){d=J.url;a=(L&&L.method)||J.method||"GET";if(A.captureXhrRequestResponse){K=(L&&L.body)||J.body||undefined}}else{d=J;a=(L&&L.method)||"GET";if(A.captureXhrRequestResponse){K=(L&&L.body)||undefined}}F.href=d;if(A.excludeFilter(F)){return NETR.orig_fetch.apply(o,arguments)}NETR.fireEvent("xhr_init","fetch");w.url=F.href;w.method=a;w.type="fetch";if(K){w.requestPayload=K}NETR.fireEvent("xhr_send",{resource:w});if(A.singlePageApp&&c.watch&&!v(w.url,A.alwaysSendXhr)){c.add_event_resource(w)}try{w.timing.requestStart=NETR.now();var M=NETR.orig_fetch.apply(this,arguments);function H(O,Q,P){function N(){var R;if(P.fetchResponse&&!P.fetchResponse.bodyUsed&&A.fetchBodyUsedWait){R=NETR.now();P.responseBodyNotUsed=true;setTimeout(function(){A.loadFinished(P,R)},A.fetchBodyUsedWait)}else{A.loadFinished(P)}}return function(){var T,S=O._bmrNextP;try{T=Q.apply((this===window?NETR.window:this),arguments);while(S&&!S._bmrHasOnFulfilled){S=S._bmrNextP}if(!S){if(T instanceof o.Promise){T.then=G(T,T.then,P)}else{N()}}return T}catch(R){while(S&&!S._bmrHasOnRejected){S=S._bmrNextP}if(!S){N()}throw R}}}function G(N,O,P){if(N._bmrNextP){return O}return function(){var Q=Array.prototype.slice.call(arguments);if(Q.length>0){if(typeof Q[0]==="function"){Q[0]=H(N,Q[0],P);N._bmrHasOnFulfilled=true}if(Q.length>1){if(typeof Q[1]==="function"){Q[1]=H(N,Q[1],P);N._bmrHasOnRejected=true}}}var R=O.apply(N,Q);N._bmrNextP=R;R.then=G(R,R.then,P);return R}}M.then=G(M,M.then,w);return M.then(function(P){var S,R,Q,N=false,O=false;if(P.status<200||P.status>=400){w.status=P.status}w.fetchResponse=P;if(A.captureXhrRequestResponse){if(typeof P.clone==="function"){Q=P.headers.get("content-type");if(Q){N=Q.indexOf("json")!==-1;O=Q.indexOf("xml")!==-1}w.response={};try{R=P.clone();R.text().then(function(U){w.response.text=U;w.response.raw=U;if(O&&typeof o.DOMParser==="function"){w.response.xml=(new o.DOMParser()).parseFromString(U,"text/xml")}}).then(null,function(U){})}catch(T){}if(N){try{R=P.clone();R.json().then(function(U){w.response.json=U}).then(null,function(U){})}catch(T){}}}}return P},function(N){if(N&&(N.name==="AbortError"||N.code===20)){w.status=y}else{w.status=k}throw N})}catch(I){w.status=r;A.loadFinished(w);throw I}};o.fetch=NETR.proxy_fetch}function t(){if(typeof o.fetch==="function"&&NETR.orig_fetch&&NETR.orig_fetch!==o.fetch){o.fetch=NETR.orig_fetch}}function g(){if(NETR.proxy_XMLHttpRequest&&NETR.proxy_XMLHttpRequest===o.XMLHttpRequest){return}if(NETR.proxy_XMLHttpRequest&&NETR.orig_XMLHttpRequest&&NETR.orig_XMLHttpRequest===o.XMLHttpRequest){o.XMLHttpRequest=NETR.proxy_XMLHttpRequest;u.start();return}NETR.orig_XMLHttpRequest=o.orig_XMLHttpRequest||o.XMLHttpRequest;u.start();z();NETR.proxy_XMLHttpRequest=function(){var G,H={timing:{},initiator:"xhr"},a,w,I=false,d=false;G=new NETR.orig_XMLHttpRequest();a=G.open;w=G.send;G.open=function(N,J,L){F.href=J;if(A.excludeFilter(F)){d=true;m("Exclude found for resource: "+F.href+" Skipping XHR instrumentation!");return a.apply(G,arguments)}d=false;if(L===undefined){L=true}NETR.fireEvent("xhr_init","xhr");function K(O,P){G.addEventListener(O,function(){if(O==="readystatechange"){H.timing[s[G.readyState]]=NETR.now();if(G.readyState===4&&G.status!==0){if(G.status<200||G.status>=400){H.status=G.status}if(A.captureXhrRequestResponse){H.response={text:(G.responseType===""||G.responseType==="text")?G.responseText:null,xml:(G.responseType===""||G.responseType==="document")?G.responseXML:null,raw:G.response,json:G.responseJSON};if(G.response&&G.response.constructor&&G.response.constructor===NETR.boomerang_frame.Object&&NETR.boomerang_frame.Object!==o.Object){try{G.response.constructor=o.Object}catch(Q){}}}A.loadFinished(H)}else{if(G.readyState===0&&typeof H.timing.open==="number"){H.status=y;A.loadFinished(H)}}}else{if(O==="load"){if(G.status<200||G.status>=400){H.status=G.status}}else{H.status=(P===undefined?G.status:P)}A.loadFinished(H)}},false)}if(!I){if(L){K("readystatechange")}K("load");K("timeout",n);K("error",k);K("abort",y)}H.url=F.href;H.method=N;H.type="xhr";delete H.status;if(!L){H.synchronous=true}I=true;try{return a.apply(G,arguments)}catch(M){H.status=r;A.loadFinished(H);throw M}};G.send=function(J){if(d){return w.apply(G,arguments)}if(A.captureXhrRequestResponse){G.resource.requestPayload=J}NETR.fireEvent("xhr_send",G);if(A.singlePageApp&&c.watch){c.add_event_resource(H)}H.timing.requestStart=NETR.now();if(typeof H.status==="undefined"||H.status!==r){return w.apply(G,arguments)}};G.resource=H;return G};NETR.proxy_XMLHttpRequest.UNSENT=0;NETR.proxy_XMLHttpRequest.OPENED=1;NETR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2;NETR.proxy_XMLHttpRequest.LOADING=3;NETR.proxy_XMLHttpRequest.DONE=4;NETR.proxy_XMLHttpRequest.prototype=NETR.orig_XMLHttpRequest.prototype;o.XMLHttpRequest=NETR.proxy_XMLHttpRequest}function f(){if(NETR.orig_XMLHttpRequest&&NETR.orig_XMLHttpRequest!==o.XMLHttpRequest){o.XMLHttpRequest=NETR.orig_XMLHttpRequest}}function D(a){a.initiator="xhr";NETR.responseEnd(a)}A={spaBackEndResources:h,alwaysSendXhr:false,excludeFilters:[],initialized:false,addedVars:[],captureXhrRequestResponse:false,singlePageApp:false,autoXhrEnabled:false,monitorFetch:false,fetchBodyUsedWait:b,excludeFilter:function(G){var a,w,d;if(!G||!G.href){return false}for(a=0;a<A.excludeFilters.length;a++){if(typeof A.excludeFilters[a].cb==="function"){d=A.excludeFilters[a].ctx;if(A.excludeFilters[a].name){m("Running filter: "+A.excludeFilters[a].name+" on URL: "+G.href)}try{w=A.excludeFilters[a].cb.call(d,G);if(w){m("Found matching filter at: "+A.excludeFilters[a].name+" for URL: "+G.href);return true}}catch(H){NETR.addError(H,"NETR.plugins.AutoXHR.impl.excludeFilter()")}}}return false},clear:function(){if(A.addedVars&&A.addedVars.length>0){NETR.removeVar(A.addedVars);A.addedVars=[]}},loadFinished:function(J,d){var N,O,L=false,I,G,a;var M=NETR.window,a,H,P,K;d=d||NETR.now();if(J.timing.loadEventEnd){return}if(J.status){NETR.fireEvent("xhr_error",J)}J.timing.loadEventEnd=d;a=NETR.getPerformance();if(a&&a.timing){O=a.timing.navigationStart;N=NETR.getResourceTiming(J.url,function(Q,w){return Q.responseEnd-w.responseEnd},function(w){return((Math.ceil(O+w.startTime+2)>=J.timing.requestStart))&&(w.responseEnd!==0)});if(N){I=Math.floor(O+N.startTime);G=Math.floor(O+N.responseEnd);if(G<=NETR.now()){J.timing.responseEnd=G;if(J.timing.loadEventEnd<G){J.timing.loadEventEnd=G}J.timing.requestStart=I;J.timing.fetchStart=I;if(N.responseStart!==0){J.timing.responseStart=Math.floor(O+N.responseStart)}J.restiming=N}}}if(c.hasActiveEvent()&&v(J.url,A.alwaysSendXhr)){c.sendResource(J)}if(J.index>-1){c.load_finished(J.index,J.timing.responseEnd)}else{if(!c.hasActiveEvent()&&(!A.singlePageApp||A.autoXhrEnabled)){c.addEvent(J)}}}};NETR.plugins.AutoXHR={is_complete:function(){return true},init:function(G){var H,d;E=o.document;if(!o||!E){return}F=E.createElement("A");NETR.utils.pluginConfig(A,G,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait"]);NETR.instrumentXHR=g;NETR.uninstrumentXHR=f;NETR.instrumentFetch=x;NETR.uninstrumentFetch=t;if(!A.initialized){this.addExcludeFilter(l,null,"shouldExcludeXhr");A.initialized=true}if(G&&G.AutoXHR&&G.AutoXHR.excludeFilters&&G.AutoXHR.excludeFilters.length>0){for(d=0;d<G.AutoXHR.excludeFilters.length;d++){A.excludeFilters.push(G.AutoXHR.excludeFilters[d])}}A.autoXhrEnabled=G.instrument_xhr;if(NETR.plugins.SPA&&NETR.plugins.SPA.supported_frameworks){var a=NETR.plugins.SPA.supported_frameworks();for(H=0;H<a.length;H++){var I=a[H];if(G[I]&&G[I].enabled){A.singlePageApp=true;break}}}if(A.alwaysSendXhr&&A.autoXhrEnabled&&NETR.xhr&&typeof NETR.xhr.stop==="function"){function w(K){if(K.length){for(H=0;H<K.length;H++){D(K[H])}}else{D(K)}}var J=NETR.xhr.stop(w);if(J&&J.length){NETR.setImmediate(w,J)}}if(A.singlePageApp){if(!A.alwaysSendXhr){A.autoXhrEnabled=false}if(A.autoXhrEnabled){NETR.instrumentXHR();NETR.instrumentFetch()}}else{if(A.autoXhrEnabled){NETR.instrumentXHR();NETR.instrumentFetch()}else{if(A.autoXhrEnabled===false){NETR.uninstrumentXHR();NETR.uninstrumentFetch()}}}NETR.registerEvent("xhr_error");NETR.subscribe("beacon",A.clear,null,A)},getMutationHandler:function(){return c},getPathname:B,enableAutoXhr:function(){if(!A.autoXhrEnabled){NETR.instrumentXHR();NETR.instrumentFetch()}A.autoXhrEnabled=true},addExcludeFilter:function(a,d,w){A.excludeFilters.push({cb:a,ctx:d,name:w})},setXhrRequestResponseCapturing:function(a){A.captureXhrRequestResponse=a},matchesAlwaysSendXhr:v}})();(function(){NETR=window.NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.PaintTiming){return}var b={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"};var a={initialized:false,complete:false,supported:null,timingCache:{},timingHistory:{},observer:null,externalMetrics:{},done:function(g,d){var f,e,c;if(this.complete){return this}if(d!=="load"&&(!g||g.initiator!=="spa_hard")){this.complete=true;return this}f=NETR.getPerformance();if(!f||typeof f.getEntriesByType!=="function"){this.complete=true;return}e=f.getEntriesByType("paint");if(e&&e.length){for(c=0;c<e.length;c++){a.timingCache[e[c].name]=e[c].startTime;if(b[e[c].name]){NETR.addVar("pt."+b[e[c].name],Math.floor(e[c].startTime),true)}}this.complete=true;NETR.sendBeacon()}},onObserver:function(f){var c=f.getEntries();if(c.length===0){return}var d=c[c.length-1];var e=d.renderTime||d.loadTime;a.timingCache[d.entryType]=e;a.timingHistory[d.entryType]=a.timingHistory[d.entryType]||[];a.timingHistory[d.entryType].push(e);NETR.addVar("pt.lcp",Math.floor(e),true);a.externalMetrics.lcp=function(){return Math.floor(e)}}};NETR.plugins.PaintTiming={init:function(){if(!this.is_supported()){a.complete=true;a.initialized=true}if(!a.complete&&NETR.visibilityState()==="hidden"){NETR.addVar("pt.hid",1,true);a.complete=true}if(!a.initialized){NETR.subscribe("page_ready",a.done,"load",a);NETR.subscribe("xhr_load",a.done,"xhr",a);NETR.subscribe("before_unload",a.done,null,a);if(typeof NETR.window.PerformanceObserver==="function"&&typeof window.LargestContentfulPaint==="function"){a.observer=new NETR.window.PerformanceObserver(a.onObserver);a.observer.observe({type:"largest-contentful-paint",buffered:true})}a.initialized=true}return this},is_complete:function(){return true},is_enabled:function(){return a.initialized&&this.is_supported()},is_supported:function(){var c;if(a.supported!==null){return a.supported}var c=NETR.getPerformance();a.supported=c&&typeof window.PerformancePaintTiming!=="undefined"&&typeof c.getEntriesByType==="function";return a.supported},getTimingFor:function(f){var e,d,c;if(a.timingCache[f]){return a.timingCache[f]}if(!this.is_supported()){return}var e=NETR.getPerformance();if(!e||typeof e.getEntriesByType!=="function"){return}d=e.getEntriesByType("paint");if(d&&d.length){for(c=0;c<d.length;c++){if(d[c].name===f){a.timingCache[f]=d[c].startTime;return a.timingCache[f]}}}},getHistoryFor:function(c){return a.timingHistory[c]||[]},metrics:a.externalMetrics}}());
(function(){var I;NETR=window.NETR||{};NETR.plugins=NETR.plugins||{};if(NETR.plugins.Continuity){return}var E=100;var A=60000;var N=500;var s=0;var u=1;var M=2;var o=0;var g=1;var d=2;var F=3;var j=4;var r=5;var G="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_";var h=".";var K={passive:true,capture:true};var J=NETR.getPerformance();var f={};var c=J&&J.timing&&J.timing.navigationStart?J.timing.navigationStart:NETR.now();function x(R){}function O(S){var R=(NETR.utils.Compression&&NETR.utils.Compression.jsUrl)||(window.UserTimingCompression&&window.UserTimingCompression.jsUrl)||(NETR.window.UserTimingCompression&&NETR.window.UserTimingCompression.jsUrl);if(R){return R(S)}else{if(window.JSON){return JSON.stringify(S)}else{return""}}}function e(aa,ab,W,ac,Y){var V="",S=0,X,U,ad,T,R,Z;if(!W){return""}if(W.length===0){return""}if(ab){if(typeof W[ac]==="undefined"){W[ac]=0}for(X=ac+1;X<=Y;X++){if(typeof W[X]==="undefined"){W[X]=W[X-1]}}}for(X=ac;X<=Y;X++){S=(typeof W[X]==="number"&&!isNaN(W[X]))?W[X]:0;if(aa===s){if(S<=63){T=G.charAt(S)}else{T=h+S.toString(36)+h}}else{if(aa===u){T=S.toString(36)}else{if(aa===M){if(S<99){T=S<=9?("0"+Math.max(S,0)):S}else{T="__"}}}}if((X+3)<=Y&&(W[X+1]===S||(S===0&&W[X+1]===undefined))&&(W[X+2]===S||(S===0&&W[X+2]===undefined))&&(W[X+3]===S||(S===0&&W[X+3]===undefined))){ad=1;while(X<Y){if(W[X+1]===S||(S===0&&W[X+1]===undefined)){ad++}else{break}X++}R="*"+ad.toString(36)+"*"+T}else{R=T}if(S!==0||X!==Y){if(aa===u){if(Z){V+=","}}Z=true;V+=R}}return Z?(aa.toString()+V):""}function a(W,S){var U=[],X,V,aa=S||0,T,R,Y,Z;if(!W||W.length===0){return[]}Z=parseInt(W.charAt(0),10);W=W.substring(1);R=1;for(X=0;X<W.length;X++){if(W.charAt(X)==="*"){X++;T=W.indexOf("*",X);R=parseInt(W.substring(X,T),36);X=T;continue}else{if(W.charAt(X)===h){X++;T=W.indexOf(h,X);Y=parseInt(W.substring(X,T),36);X=T}else{if(Z===s){Y=m(W.charAt(X))}else{if(Z===u){T=W.indexOf(",",X);if(T!==-1){Y=parseInt(W.substring(X,T),36);X=T}else{Y=parseInt(W.substring(X),36);X=W.length}}else{if(Z===M){if(W.substr(X,2)==="__"){Y=100}else{Y=parseInt(W.substr(X,2),10)}X++}}}}}U[aa]=Y;for(V=1;V<R;V++){aa++;U[aa]=Y}aa++;R=1}return U}function m(R){if(!R||!R.charCodeAt){return 0}var S=R.charCodeAt(0);if(S>=48&&S<=57){return S-48}else{if(S>=97&&S<=122){return(S-97)+10}else{if(S>=65&&S<=90){return(S-65)+36}else{if(S===95){return 62}else{if(S===45){return 63}else{return 0}}}}}}function b(X){var Y="",V,T,W,U,S=[],R;U=X.split("|");for(V=0;V<U.length;V++){W=U[V].split(",");R={type:parseInt(W[0].charAt(0),10),time:parseInt(W[0].substring(1),36)};for(T=1;T<W.length;T++){R[W[T].charAt(0)]=W[T].substring(1)}S.push(R)}return S}var C=function(af){var W=5;var ao=20;var ai=ao/(1000/E);var T=50;var ap={};var aa={};var ad=[];var Z=0;var ah=0;var an=0;var V=true;if(NETR.fpsLog&&NETR.fpsLog.length){af=NETR.fpsLog[0]+c}function R(ar,au,at){if(!ap[ar]){ap[ar]=[]}aa[ar]={compressMode:au?au:s,backfillLast:at}}function ae(){return Math.floor((NETR.now()-af)/E)}function ac(ar,at,au){if(typeof au==="undefined"){au=ae()}if(!ap[ar]){return}ap[ar][au]=at}function am(ar,at,au){if(typeof au==="undefined"){au=ae()}if(typeof at==="undefined"){at=1}if(!ap[ar]){return}if(!ap[ar][au]){ap[ar][au]=0}ap[ar][au]+=at}function U(ar,au,at){if(typeof au==="undefined"){au=ae()}ad.push({type:ar,time:au,val:at});if(ad.length>I.logMaxEntries){Array.prototype.splice.call(ad,0,(ad.length-I.logMaxEntries))}}function X(ax,aw){var av=0,ay=0,au=Infinity,az=0,at,aA=Math.floor((aw-af)/E);if(!ap[ax]){return 0}for(var ar in ap[ax]){ar=parseInt(ar,10);if(ar>=aA){if(ap[ax].hasOwnProperty(ar)){at=ap[ax][ar];av++;ay+=at;au=Math.min(au,at);az=Math.max(az,at)}}}return{total:ay,count:av,min:au,max:az}}function al(aw){var av,at,au=0,ay,ax,ar,az;if(!NETR.window||!NETR.window.document||typeof NETR.window.document.querySelectorAll!=="function"){return 0}if(!J||typeof J.getEntriesByType!=="function"){return 0}av=aw+", "+aw+" * img, "+aw+" * image";at=NETR.window.document.querySelectorAll(av);if(at&&at.length){for(ay=0;ay<at.length;ay++){ar=at[ay].currentSrc||at[ay].src||(typeof at[ay].getAttribute==="function"&&at[ay].getAttribute("xlink:href"));if(!ar){if(typeof NETR.window.getComputedStyle==="function"){var aB=NETR.window.getComputedStyle(at[ay])&&NETR.window.getComputedStyle(at[ay]).getPropertyValue("background");if(aB){var aA=aB.match(/url\(["']?([^"']*)["']?\)/);if(aA&&aA.length>0){ar=aA[1]}}}}if(ar){az=J.getEntriesByName(ar);if(az&&az.length){for(ax=0;ax<az.length;ax++){au=Math.max(au,az[ax].responseEnd)}}}}}return au?Math.floor(au+c):0}function Y(){var ar=0;if(I.ttiWaitForFrameworkReady){if(!I.frameworkReady){return}ar=I.frameworkReady}if(NETR.plugins.PaintTiming&&NETR.plugins.PaintTiming.is_supported()&&J&&J.timeOrigin){var at=NETR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");if(!at){at=NETR.plugins.PaintTiming.getTimingFor("first-contentful-paint")}if(!at){at=NETR.plugins.PaintTiming.getTimingFor("first-paint")}if(at){ar=Math.max(ar,Math.round(at+J.timeOrigin))}}else{if(J&&J.timing&&J.timing.msFirstPaint){ar=Math.max(ar,J.timing.msFirstPaint)}else{if(NETR.window&&NETR.window.chrome&&typeof NETR.window.chrome.loadTimes==="function"){var au=NETR.window.chrome.loadTimes();if(au&&au.firstPaintTime){ar=Math.max(ar,au.firstPaintTime*1000)}}}}if(J&&J.timing&&J.timing.domContentLoadedEventEnd){ar=Math.max(ar,J.timing.domContentLoadedEventEnd)}if(I.ttiWaitForHeroImages){an=al(I.ttiWaitForHeroImages);if(an){ar=Math.max(ar,an)}}return ar}function ag(){var av="";for(var at=0;at<ad.length;at++){var ar=ad[at];if(at!==0){av+="|"}av+=ar.type;av+=Math.round(ar.time-c).toString(36);for(var au in ar.val){if(ar.val.hasOwnProperty(au)){av+=","+au;if(typeof ar.val[au]==="number"){av+=ar.val[au].toString(36)}else{av+=ar.val[au]}}}}if(av!==""){I.addToBeacon("c.l",av)}}function aq(ar,at){return e(aa[ar].compressMode,aa[ar].backfillLast,ap[ar],at!==0?Math.floor((at-af)/E):0,ae())}function ak(au){var at,ar;for(at in ap){if(ap.hasOwnProperty((at))){ar=aq(at,au);if(ar!==""){I.addToBeacon("c.t."+at,ar)}}}}function ab(aw){var au=ae(),at=0,ar=0;if(I.sendLog&&typeof aw!=="undefined"){ag()}if(I.sendTimeline&&typeof aw!=="undefined"){ak(aw)}if(Z){return}if(!ah){ah=Y();if(!ah){return}}if(V){I.addToBeacon("c.tti.vr",f.timeToVisuallyReady());I.addToBeacon("c.tti.fr",f.timeToFrameworkReady());I.addToBeacon("c.tti.hi",f.timeToHeroImagesReady());V=false}if(!ap.longtask&&!ap.fps&&!ap.busy){return}var av=Math.floor((ah-af)/E);for(at=av;at<=au;at++){if(ap.longtask&&ap.longtask[at]){ar=0;continue}if(ap.fps&&(!ap.fps[at]||ap.fps[at]<ai)){ar=0;continue}if(ap.busy&&(ap.busy[at]>T)){ar=0;continue}if(ap.interdly&&ap.interdly[at]){ar=0;continue}ar++;if(ar>=W){Z=af+((at-W)*E);Z=Math.max(Z,ah);break}}if(Z>0){I.addToBeacon("c.tti",f.timeToInteractive())}}f.timeToInteractive=function(){if(Z){return Z-c}return};f.timeToVisuallyReady=function(){if(ah){return ah-c}return};f.timeToHeroImagesReady=function(){if(I.ttiWaitForHeroImages&&an){return an-c}return};f.timeToFrameworkReady=function(){if(I.ttiWaitForFrameworkReady&&I.frameworkReady){return I.frameworkReady-c}return};f.log=function(){return ad};function aj(){ap={};ad=[]}function S(){for(var ar in ap){if(ap.hasOwnProperty(ar)){ap[ar]=[]}}ad=[];V=false}return{register:R,set:ac,log:U,increment:am,getTimeBucket:ae,getStats:X,analyze:ab,stop:aj,onBeacon:S}};var B=function(Z){if(!Z.PerformanceObserver||!Z.LayoutShift){return}var W=true;var S=0;var R=new Z.PerformanceObserver(Y);try{R.observe({type:"layout-shift",buffered:true})}catch(V){return}function Y(ad){var ab,ac;if(!W){return}ab=ad.getEntries();for(ac=0;ac<ab.length;ac++){if(!ab[ac].hadRecentInput){S+=ab[ac].value}}}function U(ab){I.addToBeacon("c.cls",f.clsScore())}function T(){S=0}function X(){W=false;R.disconnect();T()}function aa(){T()}f.clsScore=function(){return S};return{clearClsScore:T,analyze:U,stop:X,onBeacon:aa}};var L=function(ab,ae){if(!ab.PerformanceObserver||!ab.PerformanceLongTaskTiming){return}var ad={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8};var T={unknown:0,script:1,layout:2};var U={unknown:0,iframe:1,embed:2,object:3};var R=new ab.PerformanceObserver(aa);try{R.observe({entryTypes:["longtask"]})}catch(Y){return}ae.register("longtask",s);var W=[];var X=true;var V=0;function aa(aj){var ah,ai;if(!X){return}ah=aj.getEntries();Array.prototype.push.apply(W,ah);for(ai=0;ai<ah.length;ai++){V+=ah[ai].duration}ae.increment("longtask",ah.length)}function ac(){return W}function ag(){W=[];V=0}function S(ai){var am,ak,aj,al,an=[],ar=[],ap;if(W.length===0){return}for(am=0;am<W.length;am++){aj=W[am];al={s:Math.round(aj.startTime).toString(36),d:Math.ceil(aj.duration).toString(36),n:ad[aj.name]?ad[aj.name]:0};ar=[];for(ak=0;ak<aj.attribution.length;ak++){ap=aj.attribution[ak];if(ap.name==="script"&&ap.containerType==="iframe"&&!ap.containerName&&!ap.containerId&&!ap.containerSrc){continue}var ah=ap.containerName?ap.containerName:undefined;var ao=ap.containerId?ap.containerId:undefined;if(ah===ao){ah=undefined}var aq=ao===undefined?ap.containerSrc:undefined;ar.push({a:T[ap.name]?T[ap.name]:0,t:U[ap.containerType]?U[ap.containerType]:0,n:ah,i:ao,s:aq})}if(ar.length>0){al.a=ar}an.push(al)}I.addToBeacon("c.lt.n",f.longTasksCount(),true);I.addToBeacon("c.lt.tt",f.longTasksTime());I.addToBeacon("c.lt",O(an))}function Z(){X=false;R.disconnect();ag()}function af(){ag()}f.longTasksTime=function(){return V};f.longTasksCount=function(){return W.length};return{getTasks:ac,clearTasks:ag,analyze:S,stop:Z,onBeacon:af}};var y=function(ad,af){af.register("busy",M);var V=32;var Z=4;var Y=100;var ai=Math.floor(Y/V);var X=100;var ab=NETR.now();var aj=0;var T=0;var ah=0;var ak=0;var aa=true;var S=false;var ac=false;function W(){var al=NETR.now();var an=al-ab;ab=al;if(an>((V*2)+Z)){var am=Math.floor((an-V)/V);aj+=am;T+=am;an-=(am*V)}aj++;if(an>(V+Z)){T++}}function R(){var al=af.getTimeBucket();var an=al;var am=0;if(aj===0){return}while(aj>(ai+1)&&am<=X){af.set("busy",100,--an);aj-=ai;T=Math.max(T-ai,0);ah+=ai;ak+=ai;am++}ah+=aj;ak+=T;af.set("busy",Math.ceil(T/aj*100),al);aj=0;T=0}function ae(al){I.addToBeacon("c.b",f.pageBusy())}function ag(){aa=false;if(S){clearInterval(S);S=false}if(ac){clearInterval(ac);ac=false}}function U(){ah=0;ak=0}f.pageBusy=function(){if(ah===0){return 0}return Math.ceil(ak/ah*100)};S=setInterval(W,V);ac=setInterval(R,Y);return{analyze:ae,stop:ag,onBeacon:U}};var v=function(ab,ac){ac.register("fps",s);var U=50;var W=0;var V=0;var ae;var R;var Y=true;if(NETR.fpsLog&&NETR.fpsLog.length){R=ae=NETR.fpsLog[0]+c;for(var X=0;X<NETR.fpsLog.length;X++){var Z=c+NETR.fpsLog[X];ac.increment("fps",1,Math.floor((Z-ae)/E));if(Z-R>=U){V++}R=Z}W=NETR.fpsLog.length;delete NETR.fpsLog}else{ae=NETR.now()}function S(af){if(!Y){return}if(af-R>=U){V++}R=af;W++;ac.increment("fps");ab.requestAnimationFrame(S)}function T(af){I.addToBeacon("c.f",f.fps());I.addToBeacon("c.f.d",f.fpsDuration());I.addToBeacon("c.f.m",f.fpsMinimum());I.addToBeacon("c.f.l",f.fpsLongFrames());I.addToBeacon("c.f.s",f.fpsStart())}function aa(){Y=false;ae=0}function ad(){if(Y){ae=NETR.now()}W=0;V=0}ab.requestAnimationFrame(S);f.fps=function(){var af=f.fpsDuration();if(af){return Math.floor(W/(af/1000))}};f.fpsDuration=function(){if(ae){return NETR.now()-ae}};f.fpsMinimum=function(){var ag=f.fpsDuration();if(ag){var af=ac.getStats("fps",ae).min;return af!==Infinity?af:undefined}};f.fpsLongFrames=function(){return V};f.fpsStart=function(){return ae?ae.toString(36):0};return{analyze:T,stop:aa,onBeacon:ad}};var w=function(aa,af,al){if(!aa||!aa.document||!aa.document.body||!aa.document.documentElement){return}var ae=2000;var S=20;var X=0;var ai=0;var ag=0;var R=0;var T=0;var am=0;var U=0;var W=0;var ak=false;var ab=aa.document.body;var ac=aa.document.documentElement;af.register("scroll",s);af.register("scrollpct",M);var Z=Math.max(ab.scrollHeight,ab.offsetHeight,ac.clientHeight,ac.scrollHeight,ac.offsetHeight)-NETR.utils.windowHeight();function Y(aq){var ap=NETR.now();T++;if(ap-W>ae){U++}W=ap;var an=Math.ceil(NETR.utils.scroll().y);var ao=Math.abs(X-an);am+=ao;af.increment("scroll",ao);if(ai===0||Math.abs(ai-an)>S){af.log(o,ap,{y:an});ai=an}ag+=Math.round(ao/Z*100);R+=Math.round(ao/Z*100);X=an}function ah(){var an=Math.min(ag,100);if(an!==0){af.set("scrollpct",an)}ag=0}function ad(an){I.addToBeacon("c.s",f.scrollCount());I.addToBeacon("c.s.p",f.scrollPct());I.addToBeacon("c.s.y",f.scrollPixels());I.addToBeacon("c.s.d",f.scrollDistinct())}function aj(){if(ak){clearInterval(ak);ak=false}NETR.utils.removeListener(aa,"scroll",Y)}function V(){R=0;T=0;am=0;U=0}f.scrollPct=function(){return R};f.scrollCount=function(){return T};f.scrollDistinct=function(){return U};f.scrollPixels=function(){return am};NETR.utils.addListener(aa,"scroll",Y,K);ak=setInterval(ah,E);return{analyze:ad,stop:aj,onBeacon:V}};var l=function(ad,ae,X){ae.register("click",s);var S=10;var Y=3;var W=0;var V=0;var T=0;var ac=0;var ab=0;var U=null;function aa(ai){var ag=NETR.now();var aj=ai.clientX;var ah=ai.clientY;W++;var ak=Math.round(Math.sqrt(Math.pow(ab-ah,2)+Math.pow(ac-aj,2)));if(U===ai.target||ak<=S){V++;if((V+1)>=Y){T++;NETR.fireEvent("rage_click",ai)}}else{V=0}ac=aj;ab=ah;U=ai.target;ae.increment("click");ae.log(g,ag,{x:aj,y:ah});if(ai.cancelable){X.interact("click",ag,ai)}}function R(ag){I.addToBeacon("c.c",f.clicksCount());I.addToBeacon("c.c.r",f.clicksRage())}function Z(){NETR.utils.removeListener(ad.document,"click",aa)}function af(){W=0;V=0;T=0}f.clicksCount=function(){return W};f.clicksRage=function(){return T};NETR.utils.addListener(ad.document,"click",aa,K);return{analyze:R,stop:Z,onBeacon:af}};var D=function(X,Y,U){Y.register("key",s);var R=0;var T=0;function V(ab){var aa=NETR.now();R++;if(ab.keyCode===27){T++}Y.increment("key");Y.log(F,aa);if(ab.cancelable){U.interact("key",aa,ab)}}function S(aa){I.addToBeacon("c.k",f.keyCount());I.addToBeacon("c.k.e",f.keyEscapes())}function W(){NETR.utils.removeListener(X.document,"keydown",V)}function Z(){R=0;T=0}f.keyCount=function(){return R};f.keyEscapes=function(){return T};NETR.utils.addListener(X.document,"keydown",V,K);return{analyze:S,stop:W,onBeacon:Z}};var H=function(aa,ae,aj){ae.register("mouse",s);ae.register("mousepct",M);var ad=10;var U=250;var Y=0;var X=0;var W=0;var V=0;var R=0;var ag=0;var S=0;var ac=false;var Z=false;var al=Math.round(Math.sqrt(Math.pow(NETR.utils.windowHeight(),2)+Math.pow(NETR.utils.windowWidth(),2)));function af(ao){var ap=ao.clientX;var an=ao.clientY;var aq=Math.round(Math.sqrt(Math.pow(X-an,2)+Math.pow(Y-ap,2)));var am=Math.round(aq/al*100);R+=am;ag+=am;S+=aq;Y=ap;X=an;ae.increment("mouse",aq)}function ai(){var am=Math.min(R,100);if(am!==0){ae.set("mousepct",am)}R=0}function ak(){if(W!==Y||V!==X){var am=Math.round(Math.sqrt(Math.pow(V-X,2)+Math.pow(W-Y,2)));if(am>=ad){ae.log(d,NETR.now(),{x:Y,y:X});W=Y;V=X}}}function ab(am){I.addToBeacon("c.m.p",f.mousePct());I.addToBeacon("c.m.n",f.mousePixels())}function ah(){if(ac){clearInterval(ac);ac=false}if(Z){clearInterval(Z);Z=false}NETR.utils.removeListener(aa.document,"mousemove",af)}function T(){ag=0;S=0}f.mousePct=function(){return ag};f.mousePixels=function(){return S};ac=setInterval(ai,E);Z=setInterval(ak,U);NETR.utils.addListener(aa.document,"mousemove",af,K);return{analyze:ab,stop:ah,onBeacon:T}};var t=function(ac,af,Y){af.register("inter",s);af.register("interdly",s);var am=50;var ah=Y;var T=30000;var ap=0;var Z=null;var S=0;var aq=0;var ab=0;var V=0;var aa=true;var ai=0;var ag=0;var aj=false;var X=false;var an=false;var ae=false;function al(au,at,aw){var ar=0;var av=NETR.hrNow();at=at||NETR.now();if(!aa){return}S++;if(!ap){if(aw&&aw.timeStamp){ap=aw.timeStamp+c}else{ap=at}}if(aw&&aw.timeStamp&&!(I.isSafari&&ac!==window)){if(aw.timeStamp>1400000000000){ar=at-aw.timeStamp}else{ar=NETR.hrNow()-aw.timeStamp}aq+=ar;if(Z===null){Z=Math.ceil(ar)}if(ar>am){af.increment("interdly");ab++;V+=ar}}af.increment("inter");if(!an&&I.afterOnloadMonitoring){ag=NETR.now();if(!ai){x("Interaction detected, sending a beacon after "+ah+" ms");ai=ag;X=setTimeout(U,T)}if(aj){x("Clearing previous interaction timeout");clearTimeout(aj);aj=false}aj=setTimeout(U,ah)}}function R(){an=true;ao()}function ao(){if(aj){clearTimeout(aj);aj=false}if(X){clearTimeout(X);X=false}}function U(){x("Sending interaction beacon");NETR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":ai,"rt.end":ag},function(){ao();NETR.fireEvent("interaction")},I)}function ad(ar){var at;I.addToBeacon("c.i.dc",f.interactionDelayed());I.addToBeacon("c.i.dt",f.interactionDelayedTime());I.addToBeacon("c.i.a",f.interactionAvgDelay());if(!ae){if(NETR.plugins.EventTiming&&NETR.plugins.EventTiming.is_enabled()){at=NETR.plugins.EventTiming.metrics.firstInputDelay()}if(!at&&Z!==null){at=f.firstInputDelay()}if(at){I.addToBeacon("c.fid",Math.ceil(at),true);I.addToBeacon("c.ttfi",f.timeToFirstInteraction());ae=true}}}function ak(){aa=false}function W(){V=0;ab=0;S=0;aq=0;ai=0;ag=0;an=false;ao()}f.interactionDelayed=function(){return ab};f.interactionDelayedTime=function(){return Math.ceil(V)};f.interactionAvgDelay=function(){if(S>0){return Math.ceil(aq/S)}};f.timeToFirstInteraction=function(){if(ap){return ap-c}return};f.firstInputDelay=function(){if(Z!==null){return Z}return};NETR.subscribe("spa_init",R,null,I);return{interact:al,analyze:ad,stop:ak,onBeacon:W}};var k=function(Y,Z,V){var W=true;var T,S;function U(){if(!W){return}V.interact("pd",T,S);T=null;S=null;NETR.utils.removeListener(window,"pointerup",U)}function R(aa){if(!W||!aa.cancelable){return}T=NETR.now();S=aa;NETR.utils.addListener(window,"pointerup",U,K)}function X(){W=false;NETR.utils.removeListener(window,"pointerdown",R);NETR.utils.removeListener(window,"pointerup",U);NETR.utils.removeListener(window,"pointercancel",X)}NETR.utils.addListener(window,"pointerdown",R,K);NETR.utils.addListener(window,"pointercancel",X,K);return{stop:X}};var P=function(R,V,U){var S=true;function W(Y){if(!S||!Y.cancelable){return}var X=NETR.now();U.interact("md",X,Y)}function T(){S=false;NETR.utils.removeListener(window,"mousedown",W)}NETR.utils.addListener(window,"mousedown",W,K);return{stop:T}};var n=function(R,V,U){var S=true;function W(Y){if(!S||!Y.cancelable){return}var X=NETR.now();U.interact("ts",X,Y)}function T(){S=false;NETR.utils.removeListener(window,"touchstart",W)}NETR.utils.addListener(window,"touchstart",W,K);return{stop:T}};var q=function(R,W,V){W.register("vis",s);var U={visible:0,hidden:1,prerender:2,unloaded:3};var S=true;NETR.subscribe("visibility_changed",function(Y){var X=NETR.now();if(!S){return}W.increment("vis");W.log(j,X,{s:U[NETR.visibilityState()]})});function T(){S=false}return{stop:T}};var Q=function(R,V,U){V.register("orn",s);var S=true;function W(Z){var Y=NETR.now(),aa=window.orientation;if(!S){return}V.increment("orn");var X=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});if(X&&typeof X.angle==="number"){aa=screen.orientation.angle}if(typeof aa==="number"){V.log(r,Y,{a:aa})}}function T(){S=false;NETR.utils.removeListener(R,"orientationchange",W)}NETR.utils.addListener(R,"orientationchange",W,K);return{stop:T}};var z=function(ab,af){af.register("mem",u,true);af.register("bat",M,true);af.register("domsz",u,true);af.register("domln",u,true);af.register("mut",s);var ac=1000;var X=ab.document;var V=true;var ae=false;var T=null;var R=0;var ad=0;var U=X.getElementsByTagName("*");var W;function aa(){var ah=J&&J.memory&&J.memory.usedJSHeapSize;if(ah){af.set("mem",ah)}ad=U.length;af.set("domsz",X.documentElement.innerHTML.length);af.set("domln",ad);if(R>0){var ag=Math.min(Math.round(R/ad*100),100);af.set("mut",ag);R=0}}function S(){if(!V||!T){return}af.set("bat",T.level)}function Y(ag){ag.forEach(function(ah){if(ah.type!=="childList"){return true}for(var ai=0;ai<ah.addedNodes.length;ai++){var aj=ah.addedNodes[ai];R++;R+=aj.getElementsByTagName?aj.getElementsByTagName("*").length:0}});return true}function Z(){V=false;if(ae){clearInterval(ae);ae=false}if(W&&W.observer){W.observer.disconnect();W=null}if(T&&T.onlevelchange){T.onlevelchange=null}U=null}ae=setInterval(aa,ac);if(ab.navigator&&typeof ab.navigator.getBattery==="function"){ab.navigator.getBattery().then(function(ag){T=ag;if(T.onlevelchange){T.onlevelchange=S}})}if(NETR.utils.isMutationObserverSupported()){W=NETR.utils.addObserver(X,{childList:true,subtree:true},null,Y,null,this)}return{stop:Z}};I={monitorLongTasks:true,monitorPageBusy:true,monitorFrameRate:true,monitorInteractions:true,monitorStats:false,monitorLayoutShifts:true,afterOnload:false,afterOnloadMaxLength:A,afterOnloadMinWait:5000,waitAfterOnload:false,ttiWaitForFrameworkReady:false,ttiWaitForHeroImages:false,sendLog:true,sendTimeline:true,logMaxEntries:100,initialized:false,complete:false,isSpa:false,firedPageReady:false,afterOnloadMonitoring:false,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,touchStartMonitor:null,mouseDownMonitor:null,pointerDownMonitor:null,statsMonitor:null,layoutShiftMonitor:null,monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor","layoutShiftMonitor","touchStartMonitor","mouseDownMonitor","pointerDownMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:false,isSafari:(window&&window.navigator&&window.navigator.vendor&&window.navigator.vendor.indexOf("Apple")!==-1),onBeforeBeacon:function(){I.runAllAnalyzers()},runAllAnalyzers:function(){var R,S;if(I.hasAddedDataToBeacon){return}for(R=0;R<I.monitors.length;R++){S=I[I.monitors[R]];if(S&&typeof S.analyze==="function"){S.analyze(I.timeOfLastBeacon)}}I.addToBeacon("c.lb",I.timeOfLastBeacon?I.timeOfLastBeacon.toString(36):0);I.timeOfLastBeacon=NETR.now();I.hasAddedDataToBeacon=true},onBeacon:function(T){var S;if(T&&((typeof T.early!=="undefined")||(T["http.initiator"]&&T["http.initiator"].indexOf("api_custom_")===0))){return}for(S=0;S<I.monitors.length;S++){var R=I[I.monitors[S]];if(R){if(!I.afterOnload){if(typeof R.stop==="function"){R.stop()}}if(typeof R.onBeacon==="function"){R.onBeacon()}}}I.hasAddedDataToBeacon=false},onXhrLoad:function(R){if(R&&NETR.utils.inArray(R.initiator,NETR.constants.BEACON_TYPE_SPAS)){I.isSpa=true}if(R&&R.initiator==="spa_hard"){I.onPageReady()}},onPageReady:function(){I.firedPageReady=true;if(I.afterOnload&&I.monitorInteractions){I.afterOnloadMonitoring=true;if(!I.isSpa&&typeof I.afterOnloadMaxLength==="number"){setTimeout(function(){I.afterOnloadMonitoring=false},I.afterOnloadMaxLength)}}if(I.waitAfterOnload){var S=NETR.now();setTimeout(function R(){if(NETR.now()-S>I.waitAfterOnload){I.complete=true;NETR.sendBeacon()}else{I.timeline.analyze();if(f.timeToInteractive()){I.complete=true;NETR.sendBeacon()}else{setTimeout(R,N)}}},N)}else{I.complete=true}},addToBeacon:function(R,T,S){if((T===0||typeof T==="undefined")&&!S){NETR.removeVar(R);return}NETR.addVar(R,T,true)}};NETR.plugins.Continuity={init:function(R){NETR.utils.pluginConfig(I,R,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline","monitorLayoutShifts"]);if(I.initialized){return this}I.initialized=true;I.timeline=new C(NETR.now());if(NETR.window){if(I.monitorLongTasks&&NETR.window.PerformanceObserver&&NETR.window.PerformanceLongTaskTiming){I.longTaskMonitor=new L(NETR.window,I.timeline);I.ttiMethod="lt"}if(I.monitorFrameRate&&typeof NETR.window.requestAnimationFrame==="function"){I.frameRateMonitor=new v(NETR.window,I.timeline);if(!I.ttiMethod){I.ttiMethod="raf"}}if(I.monitorPageBusy&&(!NETR.window.PerformanceObserver||!NETR.window.PerformanceLongTaskTiming||!I.monitorLongTasks)){I.pageBusyMonitor=new y(NETR.window,I.timeline);if(!I.ttiMethod){I.ttiMethod="b"}}if(I.monitorInteractions){I.interactionMonitor=new t(NETR.window,I.timeline,I.afterOnloadMinWait);I.scrollMonitor=new w(NETR.window,I.timeline,I.interactionMonitor);I.keyMonitor=new D(NETR.window,I.timeline,I.interactionMonitor);I.clickMonitor=new l(NETR.window,I.timeline,I.interactionMonitor);I.mouseMonitor=new H(NETR.window,I.timeline,I.interactionMonitor);I.visibilityMonitor=new q(NETR.window,I.timeline,I.interactionMonitor);I.orientationMonitor=new Q(NETR.window,I.timeline,I.interactionMonitor);I.touchStartMonitor=new n(NETR.window,I.timeline,I.interactionMonitor);I.mouseDownMonitor=new P(NETR.window,I.timeline,I.interactionMonitor);I.pointerDownMonitor=new k(NETR.window,I.timeline,I.interactionMonitor)}if(I.monitorStats){I.statsMonitor=new z(NETR.window,I.timeline,I.interactionMonitor)}if(I.monitorLayoutShifts&&NETR.window.PerformanceObserver){I.layoutShiftMonitor=new B(NETR.window)}}NETR.addVar("c.e",c.toString(36));NETR.addVar("c.tti.m",I.ttiMethod);NETR.subscribe("before_beacon",I.onBeforeBeacon,null,I);NETR.subscribe("beacon",I.onBeacon,null,I);NETR.subscribe("page_ready",I.onPageReady,null,I);NETR.subscribe("xhr_load",I.onXhrLoad,null,I);return this},is_complete:function(R){return I.complete||(R&&(R["http.initiator"]==="error"||typeof R.early!=="undefined"))},frameworkReady:function(){I.frameworkReady=NETR.now()},metrics:f,compressBucketLog:e,decompressBucketLog:a,decompressBucketLogNumber:m,decompressLog:b}}());
